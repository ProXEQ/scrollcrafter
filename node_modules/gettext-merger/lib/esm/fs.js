import{a as e}from"./chunk-2HA4XQFN.js";import s from"fs/promises";import{Block as c}from"./block.js";import{hashCompare as i}from"./utils.js";function l(t){const o=[];let n=t.pop();for(;n;)o.push(n),n=t.pop();return[o,t]}e(l,"readBlock");function p(t){const o=[];for(;t.length>0;){const n=l(t),r=new c(n[0]);o.push(r),t=n[1]}return o}e(p,"readBlocks");function g(t){const o=t.split(/\r?\n/).reverse();return p(o).sort(i)}e(g,"parseFileContent");async function a(t,o,n){let r=t?t.toStr()+`


`:"";return r+=o.cleanup().toStr(),await s.writeFile(n,r,{encoding:"utf8",flag:"w"}),r}e(a,"writePo");export{g as parseFileContent,a as writePo};
