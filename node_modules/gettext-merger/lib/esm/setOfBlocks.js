import{a as o}from"./chunk-2HA4XQFN.js";import{hashCompare as e}from"./utils.js";class n{static{o(this,"SetOfBlocks")}blocks;path;constructor(s,t){this.blocks=s||[],this.path=t||void 0}add(s){const t=this.getDuplicate(s.hash());t?t.merge(s):this.blocks.push(s)}getDuplicate(s){for(let t=0;t<this.blocks.length;t++)if(this.blocks[t].hash()===s)return this.blocks[t]}sortBlocks(s="alphabetically"){switch(s){case"alphabetically":this.blocks.sort((t,i)=>t.msgid.localeCompare(i.msgid));break;case"hash":this.blocks.sort(e);break}return this}cleanup(s="msgid"){return this.blocks=this.blocks.filter(t=>!!t[s]),this}toStr(){return this.blocks.reduce((s,t)=>s+t.toStr()+`

`,"")}toJson(){const s={};return this.blocks.forEach(t=>{const i=t.msgctxt||"";s[i]||(s[i]={}),s[i][t.msgid]=t.toJson()}),s}addArray(s){for(const t of s)this.add(t);this.blocks.filter(t=>t.msgid)}}export{n as SetOfBlocks};
