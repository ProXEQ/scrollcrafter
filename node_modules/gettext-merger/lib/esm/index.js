import{a as o}from"./chunk-2HA4XQFN.js";import u from"fs/promises";import{SetOfBlocks as s}from"./setOfBlocks.js";import{parseFileContent as a}from"./fs.js";import{Block as S}from"./block.js";import{extractPotHeader as p}from"./utils";function m(...t){const e=new s;for(const r of t)e.addArray(r);return e}o(m,"mergeBlocks");async function C(t){const e=[],r=await Promise.all(t.map(async f=>{const l=await u.readFile(f,"utf8"),[i,g]=p(l);return i&&e.push(i),new s(a(g)).blocks})),c=Array.from(r);return[Array.from(e),m(...c)]}o(C,"mergePotFile");function w(t){const e=t.map(c=>new s(a(c)).blocks),r=Array.from(e);return m(...r).toStr()}o(w,"mergePotFileContent");function O(t){const e=t.map(r=>new s(r.blocks).blocks);return m(...e)}o(O,"mergePotObject");function n(t=[],e=[]){const r=new Set([...t,...e]);return Array.from(r)}o(n,"mergeUnique");function P(t,e){return{translator:n(t?.translator,e?.translator),reference:n(t?.reference,e?.reference),extracted:n(t?.extracted,e?.extracted),flag:n(t?.flag,e?.flag).join(`
`),previous:n(t?.previous,e?.previous)}}o(P,"mergeComments");export{S as Block,s as SetOfBlocks,p as extractPotHeader,m as mergeBlocks,P as mergeComments,C as mergePotFile,w as mergePotFileContent,O as mergePotObject};
