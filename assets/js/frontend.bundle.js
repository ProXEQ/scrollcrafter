(()=>{var _={},W=new WeakSet;function T(e,r){_[e]=r}function E(e=document){if(!e||!e.querySelectorAll)return;e.querySelectorAll("[data-scrollcrafter-config]").forEach(t=>{var p;if(W.has(t))return;let l=t.getAttribute("data-scrollcrafter-config");if(!l)return;let c;try{c=JSON.parse(l)}catch(h){(p=window.ScrollCrafterConfig)!=null&&p.debug&&console.warn("[ScrollCrafter] Invalid config JSON:",h,t);return}let f=c.widget;if(!(!f||typeof _[f]!="function"))try{_[f](t,c),W.add(t),t.dispatchEvent(new CustomEvent("scrollcrafter:init",{bubbles:!0,detail:{type:f,config:c}}))}catch(h){console.error(`[ScrollCrafter] Init error for "${f}":`,h)}})}function k(){if(typeof window=="undefined")return null;let{gsap:e}=window;if(!e)return console.error("[ScrollCrafter] GSAP core not found! Make sure gsap.min.js is loaded."),null;if(window.ScrollTrigger&&e.registerPlugin)try{e.registerPlugin(window.ScrollTrigger)}catch(r){}return e}function C(){return typeof window=="undefined"?null:window.ScrollTrigger?window.ScrollTrigger:(console.warn("[ScrollCrafter] ScrollTrigger not found! Animations may not work."),null)}function q(e,r){if(typeof e!="string")return e;if(e==="calc_scroll_width_neg"&&(e="calc(sw * -1)"),e==="calc_scroll_width"&&(e="calc(sw)"),e==="calc_100vh"&&(e="calc(vh)"),e.match(/^calc\s*\((.*)\)$/i)){let t=e.match(/^calc\s*\((.*)\)$/i)[1];return t=t.replace(/(\d)\s*(sw|cw|ch|vw|vh)\b/gi,"$1 * $2"),(l,c)=>{let f=c||r,p=window.innerWidth,h=window.innerHeight,m=f.clientWidth||0,w=f.clientHeight||0,d=f.scrollWidth-m,y=d>0?d:0,x=(p-m)/2,i=(h-w)/2,n=p-m,o={sw:y,cw:m,ch:w,vw:p,vh:h,center:x,vcenter:i,end:n},g=t;if(Object.keys(o).forEach(u=>{let a=new RegExp(`\\b${u}\\b`,"gi");g=g.replace(a,"")}),!/^[0-9\.\+\-\*\/\(\)\s]*$/.test(g))return console.warn("[ScrollCrafter] Unsafe calc expression:",t),0;let s=t;Object.keys(o).sort((u,a)=>a.length-u.length).forEach(u=>{let a=new RegExp(`\\b${u}\\b`,"gi");s=s.replace(a,o[u])});try{return new Function("return "+s)()}catch(u){return console.error("[ScrollCrafter] Calc error:",u),0}}}return e}function O(e,r){if(!e||typeof e!="object")return e;let t={...e};return Object.keys(t).forEach(l=>{let c=t[l];if(c&&typeof c=="object"&&!Array.isArray(c)){t[l]=O(c,r);return}t[l]=q(c,r)}),t}T("scroll_animation",(e,r)=>{var x,i;let t=!!((x=window.ScrollCrafterConfig)!=null&&x.debug),l=`[ScrollCrafter][${r.id||"anim"}]`,c=(n,o)=>{var g,s,$;t&&(console.group(`${l} ${n}`),console.log("Method:",(g=o.animation)==null?void 0:g.method),console.log("Vars:",(s=o.animation)==null?void 0:s.vars),console.log("Vars2:",($=o.animation)==null?void 0:$.vars2),console.log("Target:",o.target||r.target),console.groupEnd())};t&&console.log(`${l} RAW CONFIG`,r);let f;try{f=k(),C()}catch(n){t&&console.error(`${l} GSAP missing`,n);return}let p=(n,o)=>{let g=n.target||r.target||{},s=[];if(g.type==="wrapper"?s=[o]:g.selector?s=o.querySelectorAll(g.selector):s=[o],!s.length)return t&&console.warn(`${l} No elements found for selector:`,g.selector),null;let $=n.animation||{},u=$.method||"from",a=s[0];if($.split&&window.SplitText)try{let S=new SplitText(s,{type:$.split});S.chars&&S.chars.length?s=S.chars:S.words&&S.words.length?s=S.words:S.lines&&S.lines.length&&(s=S.lines),s.length&&f.set(s,{display:"inline-block"})}catch(S){console.warn(`${l} SplitText error:`,S)}let v=O({...$.vars},a),b=$.vars2?O({...$.vars2},a):null;return v.scrollTrigger&&(v.scrollTrigger.trigger=o,r.id&&(v.scrollTrigger.id="sc-"+r.id)),b&&b.scrollTrigger&&(b.scrollTrigger.trigger=o,r.id&&(b.scrollTrigger.id="sc-"+r.id)),t&&(console.log(`${l} CreateTween: method=${u}, elements=${s.length}`,s),console.log(`${l} Vars:`,v),b&&console.log(`${l} Vars2 (To):`,b)),u==="fromTo"&&b?f.fromTo(s,v,b):typeof f[u]=="function"?f[u](s,v):(t&&console.warn(`${l} Unknown GSAP method:`,u),null)},h=f.matchMedia(),w=[...((i=window.ScrollCrafterConfig)==null?void 0:i.breakpoints)||[]].sort((n,o)=>n.value-o.value),d=0,y=[];if(w.forEach(n=>{let o=d+1,g=n.value;d=g;let s=o===1?`(max-width: ${g}px)`:`(min-width: ${o}px) and (max-width: ${g}px)`;y.push({slug:n.key,query:s})}),y.push({slug:"_default_desktop",query:`(min-width: ${d+1}px)`}),y.forEach(n=>{h.add(n.query,()=>{let o=r.animation;n.slug!=="_default_desktop"&&r.media&&r.media[n.slug]?(o=r.media[n.slug],c(`Active: ${n.slug} (Override)`,{...r,animation:o})):c(`Active: ${n.slug} (Global)`,r),o&&p({...r,animation:o},e)})}),t&&r.media){let n=new Set(w.map(o=>o.key));Object.keys(r.media).forEach(o=>{n.has(o)||console.warn(`${l} Unknown breakpoint slug used:`,o)})}});function I(e,r){if(typeof e!="string")return e;if(e==="calc_scroll_width_neg"&&(e="calc(sw * -1)"),e==="calc_scroll_width"&&(e="calc(sw)"),e==="calc_100vh"&&(e="calc(vh)"),e.match(/^calc\s*\((.*)\)$/i)){let t=e.match(/^calc\s*\((.*)\)$/i)[1];return t=t.replace(/(\d)\s*(sw|cw|ch|vw|vh)\b/gi,"$1 * $2"),(l,c)=>{let f=c||r,p=window.innerWidth,h=window.innerHeight,m=f.clientWidth||0,w=f.clientHeight||0,d=f.scrollWidth-m,y=d>0?d:0,x=(p-m)/2,i=p-m,n=(h-w)/2,o={sw:y,cw:m,ch:w,vw:p,vh:h,center:x,vcenter:n,end:i},g=t;if(Object.keys(o).forEach(u=>{let a=new RegExp(`\\b${u}\\b`,"gi");g=g.replace(a,"")}),!/^[0-9\.\+\-\*\/\(\)\s]*$/.test(g))return console.warn("[ScrollCrafter] Unsafe characters in calc expression:",t),0;let s=t;Object.keys(o).sort((u,a)=>a.length-u.length).forEach(u=>{let a=new RegExp(`\\b${u}\\b`,"gi");s=s.replace(a,o[u])});try{return new Function("return "+s)()}catch(u){return console.error("[ScrollCrafter] Calc error:",u),0}}}return e}function A(e,r){if(!e||typeof e!="object")return e;let t={...e};return Object.keys(t).forEach(l=>{let c=t[l];if(c&&typeof c=="object"&&!Array.isArray(c)){t[l]=A(c,r);return}t[l]=I(c,r)}),t}function j(e,r,t,l,c,f){let p=e,h=r.target||t.target||{},m=[p];if(h.selector&&h.type!=="wrapper"){let i=p.querySelectorAll(h.selector);i.length&&(m=Array.from(i))}let w={...r.timelineVars||{}};w.defaults&&(w.defaults=A(w.defaults,p)),w.scrollTrigger||(w.scrollTrigger={});let d=w.scrollTrigger;d.trigger||(d.trigger=p),d.pin===!0&&(d.pin=p),d.pin&&f.set(d.pin,{transition:"none"}),typeof d.invalidateOnRefresh=="undefined"&&(d.invalidateOnRefresh=!0),typeof d.anticipatePin=="undefined"&&(d.anticipatePin=.5),t.id&&!d.id&&(d.id=`sc-${t.id}`);let y=f.timeline(w);return(r.steps||[]).forEach((i,n)=>{let o=i.method||"to",g=i.position;if(o==="addLabel"){let a=i.vars;typeof a=="string"&&y.addLabel(a,g);return}if(o==="call")return;let s=m;if(i.selector){let a=p.querySelectorAll(i.selector);if(!a.length){l&&console.warn(`${c} Step ${n+1}: selector "${i.selector}" not found`);return}s=Array.from(a)}let $=A(i.vars||{},p),u=i.vars2?A(i.vars2,p):null;if(i.split&&window.SplitText)try{let a=new SplitText(s,{type:i.split});a.chars&&a.chars.length?s=a.chars:a.words&&a.words.length?s=a.words:a.lines&&a.lines.length&&(s=a.lines),s.length&&f.set(s,{display:"inline-block"})}catch(a){l&&console.warn(`${c} SplitText error:`,a)}l&&console.log(`${c} Step ${n+1}: method=${o}, targets=${s.length}`,s);try{o==="fromTo"&&u?y.fromTo(s,$,u,g):typeof y[o]=="function"&&y[o](s,$,g)}catch(a){l&&console.error(`${c} Error step ${n+1}`,a)}}),y}T("scroll_timeline",(e,r)=>{var y,x;let t=!!((y=window.ScrollCrafterConfig)!=null&&y.debug),l=`[ScrollCrafter][timeline:${r.id||"tl"}]`,c=(i,n)=>{t&&(console.group(`${l} ${i}`),console.log("Details:",n),console.groupEnd())},f;try{f=k(),C()}catch(i){t&&console.error(`${l} GSAP missing`,i);return}let p=f.matchMedia(),m=[...((x=window.ScrollCrafterConfig)==null?void 0:x.breakpoints)||[]].sort((i,n)=>i.value-n.value),w=0,d=[];if(m.forEach(i=>{let n=w+1,o=i.value;w=o;let g=n===1?`(max-width: ${o}px)`:`(min-width: ${n}px) and (max-width: ${o}px)`;d.push({slug:i.key,query:g})}),d.push({slug:"_default_desktop",query:`(min-width: ${w+1}px)`}),d.forEach(i=>{p.add(i.query,()=>{let n=r,o=!1;i.slug!=="_default_desktop"&&r.media&&r.media[i.slug]&&r.media[i.slug]&&(n=r.media[i.slug],o=!0),n&&n.steps&&n.steps.length>0&&(o?(c(`Active: ${i.slug} (Override)`,n),j(e,n,r,t,l+`[${i.slug}]`,f)):(c(`Active: ${i.slug} (Global)`,n),j(e,n,r,t,l,f)))})}),t&&r.media){let i=new Set(m.map(n=>n.key));Object.keys(r.media).forEach(n=>{i.has(n)||console.warn(`${l} Unknown breakpoint slug used:`,n)})}});function M(){E(document)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",M):M();window.addEventListener("elementor/popup/show",e=>{E(e.target);let r=C();r&&r.refresh()});window.addEventListener("elementor/frontend/init",()=>{window.elementorFrontend&&elementorFrontend.hooks.addAction("frontend/element_ready/global",e=>{let r=e[0];if(elementorFrontend.isEditMode()){let t=r.getAttribute("data-id");t&&G(t)}E(r)})});function G(e){var r;try{let t=C();if(!t)return;let l="sc-"+e,c=t.getById(l);c&&((r=window.ScrollCrafterConfig)!=null&&r.debug&&console.log(`[ScrollCrafter] Killing trigger: ${l}`),c.kill(!0))}catch(t){console.warn("[ScrollCrafter] Error killing trigger:",t)}}})();
