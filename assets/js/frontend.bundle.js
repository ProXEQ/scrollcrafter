(()=>{var V={},X=new WeakSet,q=new Map,I=new Set;function $(e,r){r?I.add(e):I.delete(e)}function W(e,r){V[e]=r}function z(e=document,r=!1){if(!e)return;let i=[];e.hasAttribute&&e.hasAttribute("data-scrollcrafter-config")&&i.push(e),e.querySelectorAll&&e.querySelectorAll("[data-scrollcrafter-config]").forEach(t=>i.push(t)),i.forEach(t=>{var c;let s=t.getAttribute("data-id");if(s&&I.has(s)){(c=window.ScrollCrafterConfig)!=null&&c.debug&&console.log(`[ScrollCrafter] Skipping init for ${s} - preview active`);return}let n=X.has(t);if(!(!r&&n)){if(r&&s){q.has(s)&&clearTimeout(q.get(s)),q.set(s,setTimeout(()=>{q.delete(s),I.has(s)||K(t,r)},250));return}K(t,r)}})}function K(e,r){var n,c;if(typeof e.__sc_cleanup=="function"){try{e.__sc_cleanup()}catch(l){console.warn("[ScrollCrafter] Cleanup error:",l)}delete e.__sc_cleanup}let i=e.getAttribute("data-scrollcrafter-config");if(!i)return;let t;try{t=JSON.parse(i)}catch(l){(n=window.ScrollCrafterConfig)!=null&&n.debug&&console.warn("[ScrollCrafter] Invalid config JSON:",l,e);return}let s=t.widget;if(!(!s||typeof V[s]!="function"))try{(c=window.ScrollCrafterConfig)!=null&&c.debug&&console.log(`[ScrollCrafter] Initializing widget: "${s}"`,e);let l=V[s](e,t);typeof l=="function"&&(e.__sc_cleanup=l),X.add(e),e.dispatchEvent(new CustomEvent("scrollcrafter:init",{bubbles:!0,detail:{type:s,config:t}}))}catch(l){console.error(`[ScrollCrafter] Init error for "${s}":`,l)}}function M(){if(typeof window=="undefined")return null;let{gsap:e}=window;if(!e)return console.error("[ScrollCrafter] GSAP core not found! Make sure gsap.min.js is loaded."),null;if(window.ScrollTrigger&&e.registerPlugin)try{e.registerPlugin(window.ScrollTrigger)}catch(r){}return e}function k(){return typeof window=="undefined"?null:window.ScrollTrigger?window.ScrollTrigger:(console.warn("[ScrollCrafter] ScrollTrigger not found! Animations may not work."),null)}var Y=new Map;function ce(e,r){if(typeof e!="string")return e;e==="calc_scroll_width_neg"&&(e="calc(sw * -1)"),e==="calc_scroll_width"&&(e="calc(sw)"),e==="calc_100vh"&&(e="calc(vh)");let i=e.match(/^calc\s*\((.*)\)$/i);if(i){let t=i[1].replace(/(\d)\s*(sw|cw|ch|vw|vh)\b/gi,"$1 * $2");return(s,n)=>{let c=n||r,l=window.innerWidth,w=window.innerHeight,h=c.clientWidth||0,a=c.clientHeight||0,d={sw:Math.max(0,c.scrollWidth-h),cw:h,ch:a,vw:l,vh:w,center:(l-h)/2,vcenter:(w-a)/2,end:l-h},o=t;["vcenter","center","sw","cw","ch","vw","vh","end"].forEach(y=>{o=o.replace(new RegExp(`\\b${y}\\b`,"gi"),d[y])});let g=Y.get(o);if(!g){let y=o.replace(/[0-9\.\+\-\*\/\(\)\s]/g,"");if(y.length>0)return console.warn("[ScrollCrafter] Unsafe characters in result expression:",y),0;try{g=new Function("return "+o),Y.set(o,g)}catch(v){return console.error("[ScrollCrafter] Compile error:",v,o),0}}try{return g()}catch(y){return console.error("[ScrollCrafter] Calc exec error:",y),0}}}return e}function A(e,r){if(!e||typeof e!="object")return e;let i={...e};return Object.keys(i).forEach(t=>{let s=i[t];if(s&&typeof s=="object"&&!Array.isArray(s)){i[t]=A(s,r);return}i[t]=ce(s,r)}),i}var j=null,O=null,ae={"reduced-motion":"(prefers-reduced-motion: reduce)"},fe={dark:"(prefers-color-scheme: dark)",retina:"(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)","no-hover":"(hover: none)"};function ue(){var s;let e=((s=window.ScrollCrafterConfig)==null?void 0:s.breakpoints)||[];if(!e.length)return[{slug:"_default_desktop",query:"(min-width: 1px)",min:1,max:1/0}];let r=[...e].sort((n,c)=>n.value-c.value),i=[],t=0;return r.forEach(n=>{let c=t+1,l=n.value;t=l;let w=c===1?`(max-width: ${l}px)`:`(min-width: ${c}px) and (max-width: ${l}px)`;i.push({slug:n.key,query:w,min:c,max:l})}),i.push({slug:"_default_desktop",query:`(min-width: ${t+1}px)`,min:t+1,max:1/0}),i}function D(){return j===null&&(j=ue()),j}function de(){var e;return!!((e=window.ScrollCrafterConfig)!=null&&e.isPro)}function pe(e){let r=ae[e];return!r&&de()&&(r=fe[e]),r?(O===null&&(O={}),O[e]===void 0&&(O[e]=window.matchMedia(r).matches),O[e]):!1}function ge(){return pe("reduced-motion")}function B(e,r){var i;if(e.disabled&&e.disabled.includes(r.slug))return null;if(ge()&&((i=e.conditions)!=null&&i["reduced-motion"]))return e.conditions["reduced-motion"];if(r.slug!=="_default_desktop"){if(e.conditions){for(let t of Object.values(e.conditions))if(t.tags&&t.tags.includes(r.slug))return t.config||t}if(e.media&&e.media[r.slug])return e.media[r.slug]}return e.animation||e}function G(e,r,i,t=null){var a,u,d;let s=!!((a=window.ScrollCrafterConfig)!=null&&a.debug),n=D(),c=[],l=r.disabled||[],w=((u=t==null?void 0:t.getAttribute)==null?void 0:u.call(t,"data-scrollcrafter-force-breakpoint"))||((d=t==null?void 0:t.attr)==null?void 0:d.call(t,"data-scrollcrafter-force-breakpoint"))||null;if(w){s&&console.log(`[SC Responsive] Force breakpoint detected: ${w}`);let o=n.find(f=>f.slug===w);if(!o&&w==="desktop"&&(o=n.find(f=>f.slug==="_default_desktop")),o&&!l.includes(o.slug)){let f=B(r,o);if(f){s&&console.log(`[SC Responsive] Active (forced): ${o.slug}`,f);let g=i(f,o);g&&c.push(g)}}return()=>(s&&console.log("[SC Responsive] Cleanup (forced mode - no matchMedia)"),c)}let h=e.matchMedia();return n.forEach(o=>{if(l.includes(o.slug)){s&&console.log(`[SC Responsive] Skipping disabled: ${o.slug}`);return}h.add(o.query,()=>{let f=B(r,o);if(f){s&&console.log(`[SC Responsive] Active: ${o.slug}`,f);let g=i(f,o);g&&c.push(g)}})}),()=>(s&&console.log("[SC Responsive] Cleaning up matchMedia contexts"),h.revert(),c)}W("scroll_animation",(e,r)=>{var a;let i=!!((a=window.ScrollCrafterConfig)!=null&&a.debug),t=`[ScrollCrafter][${r.id||"anim"}]`,s=(u,d)=>{var o,f,g;i&&(console.group(`${t} ${u}`),console.log("Method:",(o=d.animation)==null?void 0:o.method),console.log("Vars:",(f=d.animation)==null?void 0:f.vars),console.log("Vars2:",(g=d.animation)==null?void 0:g.vars2),console.log("Target:",d.target||r.target),console.groupEnd())},n;try{n=M(),k()}catch(u){i&&console.error(`${t} GSAP missing`,u);return}let c=(u,d)=>{var U,F,N,Q,J;let o=u.target||r.target||{},f=[];if(o.type==="wrapper"?f=[d]:o.selector?f=d.querySelectorAll(o.selector):f=[d],!f.length)return i&&console.warn(`${t} No elements found for selector:`,o.selector),null;let g=u.animation||{},y=g.method||"from",v=f[0];if(g.split)if(window.SplitText)try{let C=g.split.toLowerCase(),E=(U=f[0])==null?void 0:U._splitText,se=(F=f[0])==null?void 0:F._splitTextType,P;f.forEach(L=>{L.style&&(L.style.visibility="hidden")});let le=se===C;E&&(((N=E.chars)==null?void 0:N.length)||((Q=E.words)==null?void 0:Q.length)||((J=E.lines)==null?void 0:J.length))&&le?P=E:(E&&E.revert(),P=new SplitText(f,{type:C}),f.forEach(L=>{L._splitText=P,L._splitTextType=C})),C.includes("char")&&P.chars&&P.chars.length?f=P.chars:C.includes("word")&&P.words&&P.words.length?f=P.words:C.includes("line")&&P.lines&&P.lines.length&&(f=P.lines),f.length&&n.set(f,{display:"inline-block",backfaceVisibility:"hidden",visibility:"hidden",lazy:!1})}catch(C){i&&console.warn(`${t} SplitText error:`,C)}else i&&console.warn(`${t} SplitText not found`);let m=A({...g.vars},v),S=g.vars2?A({...g.vars2},v):null,x=C=>{C&&C.opacity!==void 0&&(C.autoAlpha=C.opacity,delete C.opacity)};x(m),x(S),m.scrollTrigger&&(m.scrollTrigger.trigger=d,r.id&&(m.scrollTrigger.id="sc-"+r.id),typeof m.scrollTrigger.invalidateOnRefresh=="undefined"&&(m.scrollTrigger.invalidateOnRefresh=!0),typeof m.scrollTrigger.anticipatePin=="undefined"&&m.scrollTrigger.pin&&(m.scrollTrigger.anticipatePin=.5)),S&&S.scrollTrigger&&(S.scrollTrigger.trigger=d,r.id&&(S.scrollTrigger.id="sc-"+r.id)),(y==="from"||y==="fromTo")&&(m.immediateRender=!0,(m.autoAlpha===0||m.opacity===0||g.split)&&f.forEach(C=>{C.style&&(C.style.visibility="hidden")})),m.scrollTrigger&&(m.immediateRender=!0);let p,_={...m,overwrite:"auto",lazy:!1};return y==="fromTo"&&S?p=n.fromTo(f,_,{...S,overwrite:"auto"}):typeof n[y]=="function"&&(p=n[y](f,_)),!p&&i&&console.warn(`${t} Unknown GSAP method:`,y),p},l=[],w=u=>{if((window.ScrollCrafterForcePreview===r.id||window.parent&&window.parent.ScrollCrafterForcePreview===r.id||e.getAttribute("data-sc-preview")==="yes")&&u)if(i&&console.log(`${t} Manual preview detected, force playing animation`),u.scrollTrigger){let o=u.scrollTrigger;o.pin||o.vars&&o.vars.scrub?(i&&console.log(`${t} Pin/Scrub detected, animating progress`),n.fromTo(o,{progress:0},{progress:1,duration:1.5,ease:"power1.inOut"})):(o.disable(),u.restart(!0))}else u.restart(!0)},h=G(n,r,(u,d)=>{s(`Active: ${d.slug}`,{...r,animation:u});let o=c({...r,animation:u},e);return o&&(l.push(o),w(o)),o},e);return()=>{i&&console.log(`${t} Cleaning up...`),h(),l.forEach(u=>{u.scrollTrigger&&u.scrollTrigger.kill(!0),u.kill()})}});function we(e,r,i,t,s,n){let c=e,l=r.target||i.target||{},w=[c];if(l.selector&&l.type!=="wrapper"){let o=c.querySelectorAll(l.selector);o.length&&(w=Array.from(o))}let h={...r.timelineVars||{}};h.defaults&&(h.defaults=A(h.defaults,c)),h.scrollTrigger||(h.scrollTrigger={});let a=h.scrollTrigger;a.trigger||(a.trigger=c),a.pin===!0&&(a.pin=c),a.pin&&n.set(a.pin,{transition:"none"}),typeof a.invalidateOnRefresh=="undefined"&&(a.invalidateOnRefresh=!0),typeof a.anticipatePin=="undefined"&&(a.anticipatePin=.5),i.id&&!a.id&&(a.id=`sc-${i.id}`);let u=n.timeline(h);return(r.steps||[]).forEach((o,f)=>{let g=o.method||"to",y=o.position;if(g==="addLabel"){let p=o.vars;typeof p=="string"&&u.addLabel(p,y);return}if(g==="call")return;let v=w;if(o.selector){let p=c.querySelectorAll(o.selector);if(!p.length){t&&console.warn(`${s} Step ${f+1}: selector "${o.selector}" not found`);return}v=Array.from(p)}let m=A(o.vars||{},c),S=o.vars2?A(o.vars2,c):null,x=p=>{p&&p.opacity!==void 0&&(p.autoAlpha=p.opacity,delete p.opacity)};if(x(m),x(S),n.set(v,{transition:"none",translate:"none",rotate:"none",scale:"none"}),o.split&&window.SplitText)try{v.forEach(_=>{_.style&&(_.style.visibility="hidden")});let p=new SplitText(v,{type:o.split});p.chars&&p.chars.length?v=p.chars:p.words&&p.words.length?v=p.words:p.lines&&p.lines.length&&(v=p.lines),v.length&&n.set(v,{display:"inline-block",backfaceVisibility:"hidden",visibility:"hidden",lazy:!1})}catch(p){t&&console.warn(`${s} SplitText error:`,p)}(g==="from"||g==="fromTo")&&(m.immediateRender=!0,(m.autoAlpha===0||m.opacity===0||o.split)&&v.forEach(p=>{p.style&&(p.style.visibility="hidden")}));try{let p,_={...m,overwrite:"auto",lazy:!1};g==="fromTo"&&S?p=u.fromTo(v,_,{...S,overwrite:"auto",lazy:!1},y):typeof u[g]=="function"&&(p=u[g](v,_,y))}catch(p){t&&console.error(`${s} Error step ${f+1}`,p)}}),u}W("scroll_timeline",(e,r)=>{var h;let i=!!((h=window.ScrollCrafterConfig)!=null&&h.debug),t=`[ScrollCrafter][timeline:${r.id||"tl"}]`,s=(a,u)=>{i&&(console.group(`${t} ${a}`),console.log("Details:",u),console.groupEnd())},n;try{n=M(),k()}catch(a){i&&console.error(`${t} GSAP missing`,a);return}let c=[],l=a=>{if((window.ScrollCrafterForcePreview===r.id||window.parent&&window.parent.ScrollCrafterForcePreview===r.id||e.getAttribute("data-sc-preview")==="yes")&&a)if(i&&console.log(`${t} Manual preview detected, force playing timeline`),a.scrollTrigger){let d=a.scrollTrigger;d.pin||d.vars&&d.vars.scrub?(i&&console.log(`${t} Pin/Scrub detected, animating progress`),n.fromTo(d,{progress:0},{progress:1,duration:1.5,ease:"power1.inOut"})):(d.disable(),a.restart(!0))}else a.restart(!0)},w=G(n,r,(a,u)=>{let d=a.steps?a:r;if(!d.steps||d.steps.length===0)return null;s(`Active: ${u.slug}`,a);let o=we(e,d,r,i,t+`[${u.slug}]`,n);return o&&(c.push(o),l(o)),o},e);return()=>{i&&console.log(`${t} Cleaning up...`),w(),c.forEach(a=>{a.scrollTrigger&&a.scrollTrigger.kill(!0),a.kill()})}});var Z,he=!!((Z=window.ScrollCrafterConfig)!=null&&Z.debug),T=(...e)=>he&&console.log("[SC Preview]",...e),R=new Map;function H(e,r=!0){if(R.has(e)){let{tween:i,elements:t}=R.get(e);if(T(`Cleaning up existing preview for ${e}`),i&&(i.scrollTrigger&&i.scrollTrigger.kill(!0),i.progress(1),i.kill()),t&&t.length){let s=M();s&&s.set(t,{clearProps:"all"})}R.delete(e)}r&&($(e,!1),T(`Preview lock released for ${e}`))}function me(e,r,i){var u,d,o,f,g,y,v,m;let t=M();if(!t)return console.error("[SC Preview] GSAP not available"),null;let s=i.target||{},n=[];if(s.type==="wrapper"?n=[e]:s.selector?n=e.querySelectorAll(s.selector):n=[e],!n.length)return T("No target elements found"),null;let c=r.method||"from",l=null;if(r.split&&window.SplitText)try{let S=r.split.toLowerCase(),x=(u=n[0])==null?void 0:u._splitText,p=(d=n[0])==null?void 0:d._splitTextType,_=p===S;x&&(((o=x.chars)==null?void 0:o.length)||((f=x.words)==null?void 0:f.length)||((g=x.lines)==null?void 0:g.length))&&_?(T(`Reusing existing SplitText (type: ${p})`),l=x):(x?(T(`Type mismatch (${p} vs ${S}), reverting and creating new`),x.revert()):T("Creating fresh SplitText with type:",S),l=new SplitText(n,{type:S}),T("SplitText result:",{chars:((y=l.chars)==null?void 0:y.length)||0,words:((v=l.words)==null?void 0:v.length)||0,lines:((m=l.lines)==null?void 0:m.length)||0}),n.forEach(F=>{F._splitText=l,F._splitTextType=S})),S.includes("char")&&l.chars&&l.chars.length>0?n=l.chars:S.includes("word")&&l.words&&l.words.length>0?n=l.words:S.includes("line")&&l.lines&&l.lines.length>0&&(n=l.lines),T(`SplitText: ${n.length} elements (type: ${S})`),n.length>0&&t.set(n,{display:"inline-block"})}catch(S){console.warn("[SC Preview] SplitText error:",S)}let w=A({...r.vars},n[0]),h=r.vars2?A({...r.vars2},n[0]):null;t.set(n,{transition:"none",translate:"none",rotate:"none",scale:"none"}),delete w.scrollTrigger,h&&delete h.scrollTrigger,c==="from"&&w.immediateRender===void 0&&(w.immediateRender=!0),T(`Creating ${c} tween for ${n.length} elements`);let a;return c==="fromTo"&&h?a=t.fromTo(n,w,h):typeof t[c]=="function"&&(a=t[c](n,w)),a&&(c==="from"||c==="fromTo")&&a.progress(1).progress(0),{tween:a,elements:n}}function Se(e,r,i){T(`Preview requested: widget=${e}, breakpoint=${i}`),$(e,!0),T(`Preview lock acquired for ${e}`);let t=document.querySelector(`[data-id="${e}"]`);if(!t)return console.error(`[SC Preview] Widget ${e} not found in DOM`),$(e,!1),!1;H(e,!1);let s=D(),n=s.find(h=>h.slug===i);!n&&i==="desktop"&&(n=s.find(h=>h.slug==="_default_desktop")),n||(n=s[0]);let c=B(r,n);if(!c)return T("No active config for breakpoint:",i),$(e,!1),!1;T("Active config:",c);let l=me(t,c,r);if(!l||!l.tween)return T("Failed to create animation"),$(e,!1),!1;R.set(e,l);let w=l.tween.vars.onComplete;return l.tween.vars.onComplete=function(){T(`Preview animation completed for ${e}`),w&&w.apply(this,arguments),setTimeout(()=>{$(e,!1),T(`Preview lock released for ${e}`)},2e3)},T("Playing animation"),l.tween.restart(!0),!0}function ye(){T(`Cleaning up all previews (${R.size} active)`);for(let e of R.keys())H(e,!0)}window.scPreview=Se;window.scPreviewCleanup=H;window.scPreviewCleanupAll=ye;T("Direct Preview API initialized");var b=null;function te(e={}){var t;if(typeof window.Lenis=="undefined")return console.warn("[ScrollCrafter] Lenis not loaded. Smooth scroll unavailable."),null;if(b)return console.log("[ScrollCrafter] Lenis already initialized, returning existing instance."),b;let i={...{lerp:.1,duration:1.2,smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:!1},...e};try{return b=new window.Lenis(i),window.gsap&&(window.gsap.ticker.add(s=>{b.raf(s*1e3)}),window.gsap.ticker.lagSmoothing(0)),window.ScrollTrigger&&(b.on("scroll",window.ScrollTrigger.update),window.addEventListener("resize",()=>{window.ScrollTrigger.refresh()})),(t=window.ScrollCrafterConfig)!=null&&t.debug&&console.log("[ScrollCrafter] Lenis smooth scroll initialized",i),b}catch(s){return console.error("[ScrollCrafter] Failed to initialize Lenis:",s),null}}function ve(){var e;b&&(b.destroy(),b=null,(e=window.ScrollCrafterConfig)!=null&&e.debug&&console.log("[ScrollCrafter] Lenis destroyed"))}function Te(){return b}function Ce(){b&&b.stop()}function be(){b&&b.start()}function xe(e,r={}){b&&b.scrollTo(e,{offset:0,duration:1.2,easing:i=>Math.min(1,1.001-Math.pow(2,-10*i)),...r})}var ee,re;if(typeof window!="undefined"&&((re=(ee=window.ScrollCrafterConfig)==null?void 0:ee.smoothScroll)==null?void 0:re.enabled)){let r=()=>{var t,s;let i=((s=(t=window.ScrollCrafterConfig)==null?void 0:t.smoothScroll)==null?void 0:s.options)||{};te(i)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):setTimeout(r,100)}typeof window!="undefined"&&(window.ScrollCrafterSmooth={init:te,destroy:ve,getInstance:Te,pause:Ce,resume:be,scrollTo:xe});function ie(){z(document)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ie):ie();window.addEventListener("load",()=>{let e=k();e&&(window.location.hash?(e.clearScrollMemory(),setTimeout(()=>e.refresh(!0),200)):requestAnimationFrame(()=>e.refresh()))});window.addEventListener("pageshow",e=>{if(e.persisted){let r=k();r&&(r.clearScrollMemory(),r.refresh(!0))}});var oe;(oe=document.fonts)!=null&&oe.ready&&document.fonts.ready.then(()=>{let e=k();e&&e.refresh()});window.addEventListener("elementor/popup/show",e=>{z(e.target);let r=k();r&&r.refresh()});var ne=()=>{let e=0,r=()=>{var s;if(!((s=window.elementorFrontend)!=null&&s.hooks)){++e<50&&setTimeout(r,100);return}let i,t=()=>{clearTimeout(i),i=setTimeout(()=>{let n=k();n&&n.refresh()},200)};elementorFrontend.hooks.addAction("frontend/element_ready/global",n=>{var l;let c=n[0];if(c){if(elementorFrontend.isEditMode()){let w=c.getAttribute("data-id");w&&Pe(w);let h=d=>{var o,f;try{if(window.ScrollCrafterForcePreview===d||((o=window.parent)==null?void 0:o.ScrollCrafterForcePreview)===d||((f=window.top)==null?void 0:f.ScrollCrafterForcePreview)===d||sessionStorage.getItem("sc_force_preview")===d)return!0}catch(g){}return!1},a=!!((l=window.ScrollCrafterConfig)!=null&&l.enableEditorAnimations),u=c.getAttribute("data-sc-preview")==="yes"||h(w);if(!a&&!u)return;u&&setTimeout(()=>{var d,o;window.ScrollCrafterForcePreview===w&&(window.ScrollCrafterForcePreview=!1),((d=window.parent)==null?void 0:d.ScrollCrafterForcePreview)===w&&(window.parent.ScrollCrafterForcePreview=!1),((o=window.top)==null?void 0:o.ScrollCrafterForcePreview)===w&&(window.top.ScrollCrafterForcePreview=!1),sessionStorage.removeItem("sc_force_preview")},100)}z(c,elementorFrontend.isEditMode()),elementorFrontend.isEditMode()&&t()}})};r()};ne();window.addEventListener("elementor/frontend/init",ne);function Pe(e){try{let r=k();if(!r)return;let i=r.getById("sc-"+e);i&&i.kill(!0)}catch(r){}}})();
