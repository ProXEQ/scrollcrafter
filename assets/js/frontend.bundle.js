(()=>{var U={},X=new WeakSet,O=new Map,q=new Set;function $(e,r){r?q.add(e):q.delete(e)}function I(e,r){U[e]=r}function W(e=document,r=!1){if(!e)return;let o=[];e.hasAttribute&&e.hasAttribute("data-scrollcrafter-config")&&o.push(e),e.querySelectorAll&&e.querySelectorAll("[data-scrollcrafter-config]").forEach(t=>o.push(t)),o.forEach(t=>{var a;let n=t.getAttribute("data-id");if(n&&q.has(n)){(a=window.ScrollCrafterConfig)!=null&&a.debug&&console.log(`[ScrollCrafter] Skipping init for ${n} - preview active`);return}let s=X.has(t);if(!(!r&&s)){if(r&&n){O.has(n)&&clearTimeout(O.get(n)),O.set(n,setTimeout(()=>{O.delete(n),q.has(n)||K(t,r)},250));return}K(t,r)}})}function K(e,r){var s,a;if(typeof e.__sc_cleanup=="function"){try{e.__sc_cleanup()}catch(l){console.warn("[ScrollCrafter] Cleanup error:",l)}delete e.__sc_cleanup}let o=e.getAttribute("data-scrollcrafter-config");if(!o)return;let t;try{t=JSON.parse(o)}catch(l){(s=window.ScrollCrafterConfig)!=null&&s.debug&&console.warn("[ScrollCrafter] Invalid config JSON:",l,e);return}let n=t.widget;if(!(!n||typeof U[n]!="function"))try{(a=window.ScrollCrafterConfig)!=null&&a.debug&&console.log(`[ScrollCrafter] Initializing widget: "${n}"`,e);let l=U[n](e,t);typeof l=="function"&&(e.__sc_cleanup=l),X.add(e),e.dispatchEvent(new CustomEvent("scrollcrafter:init",{bubbles:!0,detail:{type:n,config:t}}))}catch(l){console.error(`[ScrollCrafter] Init error for "${n}":`,l)}}function M(){if(typeof window=="undefined")return null;let{gsap:e}=window;if(!e)return console.error("[ScrollCrafter] GSAP core not found! Make sure gsap.min.js is loaded."),null;if(window.ScrollTrigger&&e.registerPlugin)try{e.registerPlugin(window.ScrollTrigger)}catch(r){}return e}function P(){return typeof window=="undefined"?null:window.ScrollTrigger?window.ScrollTrigger:(console.warn("[ScrollCrafter] ScrollTrigger not found! Animations may not work."),null)}var Y=new Map;function fe(e,r){if(typeof e!="string")return e;e==="calc_scroll_width_neg"&&(e="calc(sw * -1)"),e==="calc_scroll_width"&&(e="calc(sw)"),e==="calc_100vh"&&(e="calc(vh)");let o=e.match(/^calc\s*\((.*)\)$/i);if(o){let t=o[1].replace(/(\d)\s*(sw|cw|ch|vw|vh)\b/gi,"$1 * $2");return(n,s)=>{let a=s||r,l=window.innerWidth,h=window.innerHeight,g=a.clientWidth||0,c=a.clientHeight||0,p={sw:Math.max(0,a.scrollWidth-g),cw:g,ch:c,vw:l,vh:h,center:(l-g)/2,vcenter:(h-c)/2,end:l-g},i=t;["vcenter","center","sw","cw","ch","vw","vh","end"].forEach(y=>{i=i.replace(new RegExp(`\\b${y}\\b`,"gi"),p[y])});let w=Y.get(i);if(!w){let y=i.replace(/[0-9\.\+\-\*\/\(\)\s]/g,"");if(y.length>0)return console.warn("[ScrollCrafter] Unsafe characters in result expression:",y),0;try{w=new Function("return "+i),Y.set(i,w)}catch(T){return console.error("[ScrollCrafter] Compile error:",T,i),0}}try{return w()}catch(y){return console.error("[ScrollCrafter] Calc exec error:",y),0}}}return e}function A(e,r){if(!e||typeof e!="object")return e;let o={...e};return Object.keys(o).forEach(t=>{let n=o[t];if(n&&typeof n=="object"&&!Array.isArray(n)){o[t]=A(n,r);return}o[t]=fe(n,r)}),o}var V=null,L=null,ue={"reduced-motion":"(prefers-reduced-motion: reduce)"},de={dark:"(prefers-color-scheme: dark)",retina:"(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)","no-hover":"(hover: none)"};function pe(){var n;let e=((n=window.ScrollCrafterConfig)==null?void 0:n.breakpoints)||[];if(!e.length)return[{slug:"_default_desktop",query:"(min-width: 1px)",min:1,max:1/0}];let r=[...e].sort((s,a)=>s.value-a.value),o=[],t=0;return r.forEach(s=>{let a=t+1,l=s.value;t=l;let h=a===1?`(max-width: ${l}px)`:`(min-width: ${a}px) and (max-width: ${l}px)`;o.push({slug:s.key,query:h,min:a,max:l})}),o.push({slug:"_default_desktop",query:`(min-width: ${t+1}px)`,min:t+1,max:1/0}),o}function j(){return V===null&&(V=pe()),V}function ge(){var e;return!!((e=window.ScrollCrafterConfig)!=null&&e.isPro)}function we(e){let r=ue[e];return!r&&ge()&&(r=de[e]),r?(L===null&&(L={}),L[e]===void 0&&(L[e]=window.matchMedia(r).matches),L[e]):!1}function he(){return we("reduced-motion")}function B(e,r){var o;if(e.disabled&&e.disabled.includes(r.slug))return null;if(he()&&((o=e.conditions)!=null&&o["reduced-motion"]))return e.conditions["reduced-motion"];if(r.slug!=="_default_desktop"){if(e.conditions){for(let t of Object.values(e.conditions))if(t.tags&&t.tags.includes(r.slug))return t.config||t}if(e.media&&e.media[r.slug])return e.media[r.slug]}return e.animation||e}function z(e,r,o,t=null){var c,f,p;let n=!!((c=window.ScrollCrafterConfig)!=null&&c.debug),s=j(),a=[],l=r.disabled||[],h=((f=t==null?void 0:t.getAttribute)==null?void 0:f.call(t,"data-scrollcrafter-force-breakpoint"))||((p=t==null?void 0:t.attr)==null?void 0:p.call(t,"data-scrollcrafter-force-breakpoint"))||null;if(h){n&&console.log(`[SC Responsive] Force breakpoint detected: ${h}`);let i=s.find(d=>d.slug===h);if(!i&&h==="desktop"&&(i=s.find(d=>d.slug==="_default_desktop")),i&&!l.includes(i.slug)){let d=B(r,i);if(d){n&&console.log(`[SC Responsive] Active (forced): ${i.slug}`,d);let w=o(d,i);w&&a.push(w)}}return()=>(n&&console.log("[SC Responsive] Cleanup (forced mode - no matchMedia)"),a)}let g=e.matchMedia();return s.forEach(i=>{if(l.includes(i.slug)){n&&console.log(`[SC Responsive] Skipping disabled: ${i.slug}`);return}g.add(i.query,()=>{let d=B(r,i);if(d){n&&console.log(`[SC Responsive] Active: ${i.slug}`,d);let w=o(d,i);w&&a.push(w)}})}),()=>(n&&console.log("[SC Responsive] Cleaning up matchMedia contexts"),g.revert(),a)}I("scroll_animation",(e,r)=>{var c;let o=!!((c=window.ScrollCrafterConfig)!=null&&c.debug),t=`[ScrollCrafter][${r.id||"anim"}]`,n=(f,p)=>{var i,d,w;o&&(console.group(`${t} ${f}`),console.log("Method:",(i=p.animation)==null?void 0:i.method),console.log("Vars:",(d=p.animation)==null?void 0:d.vars),console.log("Vars2:",(w=p.animation)==null?void 0:w.vars2),console.log("Target:",p.target||r.target),console.groupEnd())},s;try{s=M(),P()}catch(f){o&&console.error(`${t} GSAP missing`,f);return}let a=(f,p)=>{var G,F,H,N,Q;let i=f.target||r.target||{},d=[];if(i.type==="wrapper"?d=[p]:i.selector?d=p.querySelectorAll(i.selector):d=[p],!d.length)return o&&console.warn(`${t} No elements found for selector:`,i.selector),null;let w=f.animation||{},y=w.method||"from",T=d[0];if(w.split)if(window.SplitText)try{let b=w.split.toLowerCase(),E=(G=d[0])==null?void 0:G._splitText,ce=(F=d[0])==null?void 0:F._splitTextType,k,ae=ce===b;E&&(((H=E.chars)==null?void 0:H.length)||((N=E.words)==null?void 0:N.length)||((Q=E.lines)==null?void 0:Q.length))&&ae?k=E:(E&&E.revert(),k=new SplitText(d,{type:b}),d.forEach(J=>{J._splitText=k,J._splitTextType=b})),b.includes("char")&&k.chars&&k.chars.length?d=k.chars:b.includes("word")&&k.words&&k.words.length?d=k.words:b.includes("line")&&k.lines&&k.lines.length&&(d=k.lines),d.length&&s.set(d,{display:"inline-block",backfaceVisibility:"hidden"})}catch(b){o&&console.warn(`${t} SplitText error:`,b)}else o&&console.warn(`${t} SplitText not found`);let m=A({...w.vars},T),S=w.vars2?A({...w.vars2},T):null,x=b=>{b&&b.opacity!==void 0&&(b.autoAlpha=b.opacity,delete b.opacity)};x(m),x(S),m.scrollTrigger&&(m.scrollTrigger.trigger=p,r.id&&(m.scrollTrigger.id="sc-"+r.id),typeof m.scrollTrigger.invalidateOnRefresh=="undefined"&&(m.scrollTrigger.invalidateOnRefresh=!0),m.scrollTrigger.pin&&typeof m.scrollTrigger.anticipatePin=="undefined"&&(m.scrollTrigger.anticipatePin=.5)),S&&S.scrollTrigger&&(S.scrollTrigger.trigger=p,r.id&&(S.scrollTrigger.id="sc-"+r.id)),(y==="from"||y==="fromTo")&&(m.immediateRender=!0,(m.autoAlpha===0||m.opacity===0)&&d.forEach(b=>{b.style&&(b.style.visibility="hidden")})),m.scrollTrigger&&(m.immediateRender=!0);let u,_={...m,overwrite:"auto",lazy:!1};return y==="fromTo"&&S?u=s.fromTo(d,_,{...S,overwrite:"auto"}):typeof s[y]=="function"&&(u=s[y](d,_)),!u&&o&&console.warn(`${t} Unknown GSAP method:`,y),u},l=[],h=f=>{if((window.ScrollCrafterForcePreview===r.id||window.parent&&window.parent.ScrollCrafterForcePreview===r.id||e.getAttribute("data-sc-preview")==="yes")&&f)if(o&&console.log(`${t} Manual preview detected, force playing animation`),f.scrollTrigger){let i=f.scrollTrigger;i.pin||i.vars&&i.vars.scrub?(o&&console.log(`${t} Pin/Scrub detected, animating progress`),s.fromTo(i,{progress:0},{progress:1,duration:1.5,ease:"power1.inOut"})):(i.disable(),f.restart(!0))}else f.restart(!0)},g=z(s,r,(f,p)=>{n(`Active: ${p.slug}`,{...r,animation:f});let i=a({...r,animation:f},e);return i&&(l.push(i),h(i)),i},e);return()=>{o&&console.log(`${t} Cleaning up...`),g(),l.forEach(f=>{f.scrollTrigger&&f.scrollTrigger.kill(!0),f.kill()})}});function me(e,r,o,t,n,s){let a=e,l=r.target||o.target||{},h=[a];if(l.selector&&l.type!=="wrapper"){let i=a.querySelectorAll(l.selector);i.length&&(h=Array.from(i))}let g={...r.timelineVars||{}};g.defaults&&(g.defaults=A(g.defaults,a)),g.scrollTrigger||(g.scrollTrigger={});let c=g.scrollTrigger;c.trigger||(c.trigger=a),c.pin===!0&&(c.pin=a),c.pin&&s.set(c.pin,{transition:"none"}),typeof c.invalidateOnRefresh=="undefined"&&(c.invalidateOnRefresh=!0),c.pin&&typeof c.anticipatePin=="undefined"&&(c.anticipatePin=.5),o.id&&!c.id&&(c.id=`sc-${o.id}`);let f=s.timeline(g);return(r.steps||[]).forEach((i,d)=>{let w=i.method||"to",y=i.position;if(w==="addLabel"){let u=i.vars;typeof u=="string"&&f.addLabel(u,y);return}if(w==="call")return;let T=h;if(i.selector){let u=a.querySelectorAll(i.selector);if(!u.length){t&&console.warn(`${n} Step ${d+1}: selector "${i.selector}" not found`);return}T=Array.from(u)}let m=A(i.vars||{},a),S=i.vars2?A(i.vars2,a):null,x=u=>{u&&u.opacity!==void 0&&(u.autoAlpha=u.opacity,delete u.opacity)};if(x(m),x(S),s.set(T,{transition:"none",translate:"none",rotate:"none",scale:"none"}),i.split&&window.SplitText)try{let u=new SplitText(T,{type:i.split});u.chars&&u.chars.length?T=u.chars:u.words&&u.words.length?T=u.words:u.lines&&u.lines.length&&(T=u.lines),T.length&&s.set(T,{display:"inline-block",backfaceVisibility:"hidden"})}catch(u){t&&console.warn(`${n} SplitText error:`,u)}(w==="from"||w==="fromTo")&&(m.immediateRender=!0,(m.autoAlpha===0||m.opacity===0)&&T.forEach(u=>{u.style&&(u.style.visibility="hidden")}));try{let u,_={...m,overwrite:"auto",lazy:!1};w==="fromTo"&&S?u=f.fromTo(T,_,{...S,overwrite:"auto",lazy:!1},y):typeof f[w]=="function"&&(u=f[w](T,_,y))}catch(u){t&&console.error(`${n} Error step ${d+1}`,u)}}),f}I("scroll_timeline",(e,r)=>{var g;let o=!!((g=window.ScrollCrafterConfig)!=null&&g.debug),t=`[ScrollCrafter][timeline:${r.id||"tl"}]`,n=(c,f)=>{o&&(console.group(`${t} ${c}`),console.log("Details:",f),console.groupEnd())},s;try{s=M(),P()}catch(c){o&&console.error(`${t} GSAP missing`,c);return}let a=[],l=c=>{if((window.ScrollCrafterForcePreview===r.id||window.parent&&window.parent.ScrollCrafterForcePreview===r.id||e.getAttribute("data-sc-preview")==="yes")&&c)if(o&&console.log(`${t} Manual preview detected, force playing timeline`),c.scrollTrigger){let p=c.scrollTrigger;p.pin||p.vars&&p.vars.scrub?(o&&console.log(`${t} Pin/Scrub detected, animating progress`),s.fromTo(p,{progress:0},{progress:1,duration:1.5,ease:"power1.inOut"})):(p.disable(),c.restart(!0))}else c.restart(!0)},h=z(s,r,(c,f)=>{let p=c.steps?c:r;if(!p.steps||p.steps.length===0)return null;n(`Active: ${f.slug}`,c);let i=me(e,p,r,o,t+`[${f.slug}]`,s);return i&&(a.push(i),l(i)),i},e);return()=>{o&&console.log(`${t} Cleaning up...`),h(),a.forEach(c=>{c.scrollTrigger&&c.scrollTrigger.kill(!0),c.kill()})}});var Z,Se=!!((Z=window.ScrollCrafterConfig)!=null&&Z.debug),C=(...e)=>Se&&console.log("[SC Preview]",...e),R=new Map;function D(e,r=!0){if(R.has(e)){let{tween:o,elements:t}=R.get(e);if(C(`Cleaning up existing preview for ${e}`),o&&(o.scrollTrigger&&o.scrollTrigger.kill(!0),o.progress(1),o.kill()),t&&t.length){let n=M();n&&n.set(t,{clearProps:"all"})}R.delete(e)}r&&($(e,!1),C(`Preview lock released for ${e}`))}function ye(e,r,o){var f,p,i,d,w,y,T,m;let t=M();if(!t)return console.error("[SC Preview] GSAP not available"),null;let n=o.target||{},s=[];if(n.type==="wrapper"?s=[e]:n.selector?s=e.querySelectorAll(n.selector):s=[e],!s.length)return C("No target elements found"),null;let a=r.method||"from",l=null;if(r.split&&window.SplitText)try{let S=r.split.toLowerCase(),x=(f=s[0])==null?void 0:f._splitText,u=(p=s[0])==null?void 0:p._splitTextType,_=u===S;x&&(((i=x.chars)==null?void 0:i.length)||((d=x.words)==null?void 0:d.length)||((w=x.lines)==null?void 0:w.length))&&_?(C(`Reusing existing SplitText (type: ${u})`),l=x):(x?(C(`Type mismatch (${u} vs ${S}), reverting and creating new`),x.revert()):C("Creating fresh SplitText with type:",S),l=new SplitText(s,{type:S}),C("SplitText result:",{chars:((y=l.chars)==null?void 0:y.length)||0,words:((T=l.words)==null?void 0:T.length)||0,lines:((m=l.lines)==null?void 0:m.length)||0}),s.forEach(F=>{F._splitText=l,F._splitTextType=S})),S.includes("char")&&l.chars&&l.chars.length>0?s=l.chars:S.includes("word")&&l.words&&l.words.length>0?s=l.words:S.includes("line")&&l.lines&&l.lines.length>0&&(s=l.lines),C(`SplitText: ${s.length} elements (type: ${S})`),s.length>0&&t.set(s,{display:"inline-block"})}catch(S){console.warn("[SC Preview] SplitText error:",S)}let h=A({...r.vars},s[0]),g=r.vars2?A({...r.vars2},s[0]):null;t.set(s,{transition:"none",translate:"none",rotate:"none",scale:"none"}),delete h.scrollTrigger,g&&delete g.scrollTrigger,a==="from"&&h.immediateRender===void 0&&(h.immediateRender=!0),C(`Creating ${a} tween for ${s.length} elements`);let c;return a==="fromTo"&&g?c=t.fromTo(s,h,g):typeof t[a]=="function"&&(c=t[a](s,h)),c&&(a==="from"||a==="fromTo")&&c.progress(1).progress(0),{tween:c,elements:s}}function ve(e,r,o){C(`Preview requested: widget=${e}, breakpoint=${o}`),$(e,!0),C(`Preview lock acquired for ${e}`);let t=document.querySelector(`[data-id="${e}"]`);if(!t)return console.error(`[SC Preview] Widget ${e} not found in DOM`),$(e,!1),!1;D(e,!1);let n=j(),s=n.find(g=>g.slug===o);!s&&o==="desktop"&&(s=n.find(g=>g.slug==="_default_desktop")),s||(s=n[0]);let a=B(r,s);if(!a)return C("No active config for breakpoint:",o),$(e,!1),!1;C("Active config:",a);let l=ye(t,a,r);if(!l||!l.tween)return C("Failed to create animation"),$(e,!1),!1;R.set(e,l);let h=l.tween.vars.onComplete;return l.tween.vars.onComplete=function(){C(`Preview animation completed for ${e}`),h&&h.apply(this,arguments),setTimeout(()=>{$(e,!1),C(`Preview lock released for ${e}`)},2e3)},C("Playing animation"),l.tween.restart(!0),!0}function Te(){C(`Cleaning up all previews (${R.size} active)`);for(let e of R.keys())D(e,!0)}window.scPreview=ve;window.scPreviewCleanup=D;window.scPreviewCleanupAll=Te;C("Direct Preview API initialized");var v=null;function te(e={}){var t;if(typeof window.Lenis=="undefined")return console.warn("[ScrollCrafter] Lenis not loaded. Smooth scroll unavailable."),null;if(v)return console.log("[ScrollCrafter] Lenis already initialized, returning existing instance."),v;let o={...{lerp:.1,duration:1.2,smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,infinite:!1},...e};try{return v=new window.Lenis(o),window.gsap&&(window.gsap.ticker.add(n=>{v.raf(n*1e3)}),window.gsap.ticker.lagSmoothing(0)),window.ScrollTrigger&&(v.on("scroll",window.ScrollTrigger.update),window.ScrollTrigger.addEventListener("refreshInit",()=>{v&&v.stop()}),window.ScrollTrigger.addEventListener("refresh",()=>{v&&v.start()}),window.addEventListener("resize",()=>{window.ScrollTrigger.refresh()})),(t=window.ScrollCrafterConfig)!=null&&t.debug&&console.log("[ScrollCrafter] Lenis smooth scroll initialized",o),v}catch(n){return console.error("[ScrollCrafter] Failed to initialize Lenis:",n),null}}function Ce(){var e;v&&(v.destroy(),v=null,(e=window.ScrollCrafterConfig)!=null&&e.debug&&console.log("[ScrollCrafter] Lenis destroyed"))}function be(){return v}function xe(){v&&v.stop()}function Pe(){v&&v.start()}function ke(e,r={}){v&&v.scrollTo(e,{offset:0,duration:1.2,easing:o=>Math.min(1,1.001-Math.pow(2,-10*o)),...r})}var ee,re;if(typeof window!="undefined"&&((re=(ee=window.ScrollCrafterConfig)==null?void 0:ee.smoothScroll)==null?void 0:re.enabled)){let r=()=>{var t,n;let o=((n=(t=window.ScrollCrafterConfig)==null?void 0:t.smoothScroll)==null?void 0:n.options)||{};te(o)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):setTimeout(r,100)}typeof window!="undefined"&&(window.ScrollCrafterSmooth={init:te,destroy:Ce,getInstance:be,pause:xe,resume:Pe,scrollTo:ke});var ne,Ae=!!((ne=window.ScrollCrafterConfig)!=null&&ne.debug),_e="[ScrollCrafter]";"scrollRestoration"in history&&(history.scrollRestoration="manual");function Ee(){let e=P();e&&(e.clearScrollMemory("all"),e.config({ignoreMobileResize:!0}))}var oe=null;function $e(){clearTimeout(oe),oe=setTimeout(()=>{let e=P();e&&e.refresh()},200)}function ie(){window.scrollTo(0,0),Ee(),W(document),requestAnimationFrame(()=>{let e=P();e&&e.sort()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ie):ie();window.addEventListener("load",()=>{let e=P();e&&(window.location.hash&&e.clearScrollMemory(),requestAnimationFrame(()=>{e.refresh(!0),Ae&&console.log(`${_e} Final ScrollTrigger refresh on window.load`)}))});window.addEventListener("pageshow",e=>{if(e.persisted){let r=P();r&&(r.clearScrollMemory(),r.refresh(!0))}});var se;(se=document.fonts)!=null&&se.ready&&document.fonts.ready.then(()=>{let e=P();e&&e.refresh()});window.addEventListener("elementor/popup/show",e=>{W(e.target);let r=P();r&&r.refresh()});var le=()=>{let e=0,r=()=>{var o;if(!((o=window.elementorFrontend)!=null&&o.hooks)){++e<50&&setTimeout(r,100);return}elementorFrontend.hooks.addAction("frontend/element_ready/global",t=>{var s;let n=t[0];if(n){if(elementorFrontend.isEditMode()){let a=n.getAttribute("data-id");a&&Me(a);let l=c=>{var f,p;try{if(window.ScrollCrafterForcePreview===c||((f=window.parent)==null?void 0:f.ScrollCrafterForcePreview)===c||((p=window.top)==null?void 0:p.ScrollCrafterForcePreview)===c||sessionStorage.getItem("sc_force_preview")===c)return!0}catch(i){}return!1},h=!!((s=window.ScrollCrafterConfig)!=null&&s.enableEditorAnimations),g=n.getAttribute("data-sc-preview")==="yes"||l(a);if(!h&&!g)return;g&&setTimeout(()=>{var c,f;window.ScrollCrafterForcePreview===a&&(window.ScrollCrafterForcePreview=!1),((c=window.parent)==null?void 0:c.ScrollCrafterForcePreview)===a&&(window.parent.ScrollCrafterForcePreview=!1),((f=window.top)==null?void 0:f.ScrollCrafterForcePreview)===a&&(window.top.ScrollCrafterForcePreview=!1),sessionStorage.removeItem("sc_force_preview")},100)}W(n,elementorFrontend.isEditMode()),elementorFrontend.isEditMode()&&$e()}})};r()};le();window.addEventListener("elementor/frontend/init",le);function Me(e){try{let r=P();if(!r)return;let o=r.getById("sc-"+e);o&&o.kill(!0)}catch(r){}}})();
