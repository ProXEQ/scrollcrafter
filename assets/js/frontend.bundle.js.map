{
  "version": 3,
  "sources": ["../src/frontend/core/registry.js", "../src/frontend/core/gsap-loader.js", "../src/frontend/core/utils.js", "../src/frontend/core/responsive.js", "../src/frontend/widgets/scroll-animation.js", "../src/frontend/widgets/scroll-timeline.js", "../src/frontend/preview-player.js", "../src/frontend/core/smooth-scroll.js", "../src/frontend/index.js"],
  "sourcesContent": ["const registry = {};\n\nconst initializedNodes = new WeakSet();\nconst pendingInits = new Map();\nconst previewLocks = new Set();\n\nexport function setPreviewLock(widgetId, locked) {\n  if (locked) {\n    previewLocks.add(widgetId);\n  } else {\n    previewLocks.delete(widgetId);\n  }\n}\n\nexport function registerWidget(type, initFn) {\n  registry[type] = initFn;\n}\n\nexport function initWidgetsInScope(root = document, force = false) {\n  if (!root) {\n    return;\n  }\n\n  const nodes = [];\n  if (root.hasAttribute && root.hasAttribute('data-scrollcrafter-config')) {\n    nodes.push(root);\n  }\n  if (root.querySelectorAll) {\n    root.querySelectorAll('[data-scrollcrafter-config]').forEach(n => nodes.push(n));\n  }\n\n  nodes.forEach((node) => {\n    const widgetId = node.getAttribute('data-id');\n\n    if (widgetId && previewLocks.has(widgetId)) {\n      if (window.ScrollCrafterConfig?.debug) {\n        console.log(`[ScrollCrafter] Skipping init for ${widgetId} - preview active`);\n      }\n      return;\n    }\n\n    const isAlreadyInit = initializedNodes.has(node);\n    if (!force && isAlreadyInit) {\n      return;\n    }\n\n    if (force) {\n      if (widgetId) {\n        if (pendingInits.has(widgetId)) {\n          clearTimeout(pendingInits.get(widgetId));\n        }\n\n        pendingInits.set(widgetId, setTimeout(() => {\n          pendingInits.delete(widgetId);\n          if (!previewLocks.has(widgetId)) {\n            doInitWidget(node, force);\n          }\n        }, 250));\n\n        return;\n      }\n    }\n\n    doInitWidget(node, force);\n  });\n}\n\nfunction doInitWidget(node, force) {\n  if (typeof node.__sc_cleanup === 'function') {\n    try {\n      node.__sc_cleanup();\n    } catch (e) {\n      console.warn('[ScrollCrafter] Cleanup error:', e);\n    }\n    delete node.__sc_cleanup;\n  }\n\n  const raw = node.getAttribute('data-scrollcrafter-config');\n  if (!raw) return;\n\n  let config;\n  try {\n    config = JSON.parse(raw);\n  } catch (e) {\n    if (window.ScrollCrafterConfig?.debug) {\n      console.warn('[ScrollCrafter] Invalid config JSON:', e, node);\n    }\n    return;\n  }\n\n  const type = config.widget;\n  if (!type || typeof registry[type] !== 'function') {\n    return;\n  }\n\n  try {\n    if (window.ScrollCrafterConfig?.debug) {\n      console.log(`[ScrollCrafter] Initializing widget: \"${type}\"`, node);\n    }\n\n    const cleanup = registry[type](node, config);\n\n    if (typeof cleanup === 'function') {\n      node.__sc_cleanup = cleanup;\n    }\n\n    initializedNodes.add(node);\n\n    node.dispatchEvent(\n      new CustomEvent('scrollcrafter:init', {\n        bubbles: true,\n        detail: { type, config },\n      }),\n    );\n  } catch (e) {\n    console.error(`[ScrollCrafter] Init error for \"${type}\":`, e);\n  }\n}\n", "export function getGsap() {\n  if (typeof window === 'undefined') return null;\n\n  const { gsap } = window;\n  \n  if (!gsap) {\n    console.error('[ScrollCrafter] GSAP core not found! Make sure gsap.min.js is loaded.');\n    return null;\n  }\n\n  if (window.ScrollTrigger && gsap.registerPlugin) {\n    try {\n        gsap.registerPlugin(window.ScrollTrigger);\n    } catch (e) {\n    }\n  }\n\n  return gsap;\n}\n\nexport function getScrollTrigger() {\n  if (typeof window === 'undefined') return null;\n\n  if (!window.ScrollTrigger) {\n    console.warn('[ScrollCrafter] ScrollTrigger not found! Animations may not work.');\n    return null;\n  }\n\n  return window.ScrollTrigger;\n}\n", "/**\n * Utility functions for ScrollCrafter frontend\n */\n\nconst compiledCalcs = new Map();\n\n/**\n * Safely parses mathematical expressions from DSL strings\n * Supports: sw (scrollWidth), cw (clientWidth), vw (viewportWidth), center, end, etc.\n */\nexport function parseSmartValue(val, contextNode) {\n    if (typeof val !== 'string') return val;\n\n    if (val === 'calc_scroll_width_neg') val = 'calc(sw * -1)';\n    if (val === 'calc_scroll_width') val = 'calc(sw)';\n    if (val === 'calc_100vh') val = 'calc(vh)';\n\n    const calcMatch = val.match(/^calc\\s*\\((.*)\\)$/i);\n    if (calcMatch) {\n        const expression = calcMatch[1].replace(/(\\d)\\s*(sw|cw|ch|vw|vh)\\b/gi, '$1 * $2');\n\n        return (index, target) => {\n            const el = target || contextNode;\n            const vw = window.innerWidth;\n            const vh = window.innerHeight;\n            const cw = el.clientWidth || 0;\n            const ch = el.clientHeight || 0;\n            const sw = Math.max(0, el.scrollWidth - cw);\n\n            const varsMap = {\n                sw, cw, ch, vw, vh,\n                center: (vw - cw) / 2,\n                vcenter: (vh - ch) / 2,\n                end: vw - cw\n            };\n\n            let finalExpr = expression;\n            const sortedKeys = ['vcenter', 'center', 'sw', 'cw', 'ch', 'vw', 'vh', 'end']; // Sorted by length desc manually for speed\n\n            sortedKeys.forEach(key => {\n                finalExpr = finalExpr.replace(new RegExp(`\\\\b${key}\\\\b`, 'gi'), varsMap[key]);\n            });\n\n            let fn = compiledCalcs.get(finalExpr);\n            if (!fn) {\n                const safetyCheck = finalExpr.replace(/[0-9\\.\\+\\-\\*\\/\\(\\)\\s]/g, '');\n                if (safetyCheck.length > 0) {\n                    console.warn('[ScrollCrafter] Unsafe characters in result expression:', safetyCheck);\n                    return 0;\n                }\n                try {\n                    fn = new Function('return ' + finalExpr);\n                    compiledCalcs.set(finalExpr, fn);\n                } catch (e) {\n                    console.error('[ScrollCrafter] Compile error:', e, finalExpr);\n                    return 0;\n                }\n            }\n\n            try {\n                return fn();\n            } catch (e) {\n                console.error('[ScrollCrafter] Calc exec error:', e);\n                return 0;\n            }\n        };\n    }\n    return val;\n}\n\n/**\n * Recursively parses object variables (macros/calcs)\n */\nexport function parseMacros(vars, contextNode) {\n    if (!vars || typeof vars !== 'object') return vars;\n    const out = { ...vars };\n    Object.keys(out).forEach((key) => {\n        const val = out[key];\n        if (val && typeof val === 'object' && !Array.isArray(val)) {\n            out[key] = parseMacros(val, contextNode);\n            return;\n        }\n        out[key] = parseSmartValue(val, contextNode);\n    });\n    return out;\n}\n\n", "/**\n * Responsive module for ScrollCrafter\n * Handles breakpoint matching, condition resolution, and GSAP matchMedia integration\n * \n * @module responsive\n */\n\nlet cachedRanges = null;\nlet cachedSpecialConditions = null;\n\n\nconst SPECIAL_QUERIES = {\n    'reduced-motion': '(prefers-reduced-motion: reduce)',\n};\n\nconst PRO_SPECIAL_QUERIES = {\n    'dark': '(prefers-color-scheme: dark)',\n    'retina': '(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)',\n    'no-hover': '(hover: none)',\n};\n\nconst CONDITION_PRIORITIES = {\n    'reduced-motion': 100,\n    'and': 50,\n    'or': 30,\n    'single': 20,\n    'modifier': 10,\n    'base': 0,\n};\n\n\nfunction buildBreakpointRanges() {\n    const sysBreakpoints = window.ScrollCrafterConfig?.breakpoints || [];\n    if (!sysBreakpoints.length) {\n        return [{ slug: '_default_desktop', query: '(min-width: 1px)', min: 1, max: Infinity }];\n    }\n\n    const sortedBps = [...sysBreakpoints].sort((a, b) => a.value - b.value);\n    const ranges = [];\n    let prevMax = 0;\n\n    sortedBps.forEach(bp => {\n        const min = prevMax + 1;\n        const max = bp.value;\n        prevMax = max;\n\n        const query = min === 1\n            ? `(max-width: ${max}px)`\n            : `(min-width: ${min}px) and (max-width: ${max}px)`;\n\n        ranges.push({ slug: bp.key, query, min, max });\n    });\n\n    ranges.push({\n        slug: '_default_desktop',\n        query: `(min-width: ${prevMax + 1}px)`,\n        min: prevMax + 1,\n        max: Infinity\n    });\n\n    return ranges;\n}\n\nexport function getBreakpointRanges() {\n    if (cachedRanges === null) {\n        cachedRanges = buildBreakpointRanges();\n    }\n    return cachedRanges;\n}\n\nfunction isPro() {\n    return !!window.ScrollCrafterConfig?.isPro;\n}\n\nexport function isSpecialConditionActive(tag) {\n    let query = SPECIAL_QUERIES[tag];\n\n    if (!query && isPro()) {\n        query = PRO_SPECIAL_QUERIES[tag];\n    }\n\n    if (!query) return false;\n\n    if (cachedSpecialConditions === null) {\n        cachedSpecialConditions = {};\n    }\n\n    if (cachedSpecialConditions[tag] === undefined) {\n        cachedSpecialConditions[tag] = window.matchMedia(query).matches;\n    }\n\n    return cachedSpecialConditions[tag];\n}\n\nexport function isReducedMotionPreferred() {\n    return isSpecialConditionActive('reduced-motion');\n}\n\n/**\n * Resolve the active config for a given breakpoint range\n * @param {Object} config - Full widget config\n * @param {Object} range - Current breakpoint range {slug, query}\n * @returns {Object|null} Active configuration or null if disabled\n */\nexport function resolveConfigForBreakpoint(config, range) {\n    if (config.disabled && config.disabled.includes(range.slug)) {\n        return null;\n    }\n\n    if (isReducedMotionPreferred() && config.conditions?.['reduced-motion']) {\n        return config.conditions['reduced-motion'];\n    }\n    if (range.slug !== '_default_desktop') {\n        if (config.conditions) {\n            for (const condition of Object.values(config.conditions)) {\n                if (condition.tags && condition.tags.includes(range.slug)) {\n                    return condition.config || condition;\n                }\n            }\n        }\n        if (config.media && config.media[range.slug]) {\n            return config.media[range.slug];\n        }\n    }\n    return config.animation || config;\n}\n\n/**\n * Build media query string for a condition\n * @param {Object} condition - {type: 'or'|'and', tags: string[]}\n * @returns {string} Media query string\n */\nexport function buildConditionQuery(condition) {\n    const ranges = getBreakpointRanges();\n    const queries = [];\n\n    condition.tags.forEach(tag => {\n        if (SPECIAL_QUERIES[tag]) {\n            queries.push(SPECIAL_QUERIES[tag]);\n        } else if (isPro() && PRO_SPECIAL_QUERIES[tag]) {\n            queries.push(PRO_SPECIAL_QUERIES[tag]);\n        } else {\n            const range = ranges.find(r => r.slug === tag);\n            if (range) {\n                queries.push(range.query);\n            }\n        }\n    });\n\n    if (queries.length === 0) return null;\n\n    return condition.type === 'and'\n        ? queries.join(' and ')\n        : queries.join(', ');\n}\n\n/**\n * Create a responsive context using GSAP matchMedia\n * Eliminates code duplication between scroll-animation.js and scroll-timeline.js\n * \n * @param {Object} gsap - GSAP instance\n * @param {Object} config - Widget configuration\n * @param {Function} callback - Called with (activeConfig, range) for each matching range\n * @param {HTMLElement} $widget - Optional widget element for force-breakpoint check\n * @returns {Function} Cleanup function\n */\nexport function createResponsiveContext(gsap, config, callback, $widget = null) {\n    const debug = !!window.ScrollCrafterConfig?.debug;\n    const ranges = getBreakpointRanges();\n    const results = [];\n\n    const disabledBreakpoints = config.disabled || [];\n\n    const forceBreakpoint = $widget?.getAttribute?.('data-scrollcrafter-force-breakpoint')\n        || $widget?.attr?.('data-scrollcrafter-force-breakpoint')\n        || null;\n\n    if (forceBreakpoint) {\n        if (debug) console.log(`[SC Responsive] Force breakpoint detected: ${forceBreakpoint}`);\n\n        let targetRange = ranges.find(r => r.slug === forceBreakpoint);\n        if (!targetRange && forceBreakpoint === 'desktop') {\n            targetRange = ranges.find(r => r.slug === '_default_desktop');\n        }\n\n        if (targetRange && !disabledBreakpoints.includes(targetRange.slug)) {\n            const activeConfig = resolveConfigForBreakpoint(config, targetRange);\n            if (activeConfig) {\n                if (debug) console.log(`[SC Responsive] Active (forced): ${targetRange.slug}`, activeConfig);\n                const result = callback(activeConfig, targetRange);\n                if (result) results.push(result);\n            }\n        }\n\n        return () => {\n            if (debug) console.log('[SC Responsive] Cleanup (forced mode - no matchMedia)');\n            return results;\n        };\n    }\n\n    const mm = gsap.matchMedia();\n\n    ranges.forEach(range => {\n        if (disabledBreakpoints.includes(range.slug)) {\n            if (debug) console.log(`[SC Responsive] Skipping disabled: ${range.slug}`);\n            return;\n        }\n\n        mm.add(range.query, () => {\n            const activeConfig = resolveConfigForBreakpoint(config, range);\n\n            if (activeConfig) {\n                if (debug) {\n                    console.log(`[SC Responsive] Active: ${range.slug}`, activeConfig);\n                }\n                const result = callback(activeConfig, range);\n                if (result) results.push(result);\n            }\n        });\n    });\n\n    return () => {\n        if (debug) console.log('[SC Responsive] Cleaning up matchMedia contexts');\n        mm.revert();\n        return results;\n    };\n}\n\n/**\n * Get condition priority for sorting\n * @param {Object} condition \n * @returns {number}\n */\nexport function getConditionPriority(condition) {\n    if (!condition) return CONDITION_PRIORITIES.base;\n\n    if (condition.tags?.includes('reduced-motion')) {\n        return CONDITION_PRIORITIES['reduced-motion'];\n    }\n\n    if (condition.type === 'and') {\n        return CONDITION_PRIORITIES.and;\n    }\n\n    if (condition.type === 'or' && condition.tags?.length > 1) {\n        return CONDITION_PRIORITIES.or;\n    }\n\n    return CONDITION_PRIORITIES.single;\n}\n\n/**\n * Sort conditions by priority (highest first)\n * @param {Array} conditions \n * @returns {Array}\n */\nexport function sortConditionsByPriority(conditions) {\n    return [...conditions].sort((a, b) =>\n        getConditionPriority(b) - getConditionPriority(a)\n    );\n}\n", "import { registerWidget } from '../core/registry';\nimport { getGsap, getScrollTrigger } from '../core/gsap-loader';\nimport { parseMacros } from '../core/utils';\nimport { createResponsiveContext } from '../core/responsive';\n\nregisterWidget('scroll_animation', (node, config) => {\n  const debug = !!window.ScrollCrafterConfig?.debug;\n  const logPrefix = `[ScrollCrafter][${config.id || 'anim'}]`;\n\n  const logConfig = (label, cfg) => {\n    if (!debug) return;\n    console.group(`${logPrefix} ${label}`);\n    console.log('Method:', cfg.animation?.method);\n    console.log('Vars:', cfg.animation?.vars);\n    console.log('Vars2:', cfg.animation?.vars2);\n    console.log('Target:', cfg.target || config.target);\n    console.groupEnd();\n  };\n\n  let gsap;\n  try {\n    gsap = getGsap();\n    getScrollTrigger();\n  } catch (e) {\n    if (debug) console.error(`${logPrefix} GSAP missing`, e);\n    return;\n  }\n\n  const createTween = (cfg, contextNode) => {\n    const targetConfig = cfg.target || config.target || {};\n    let elements = [];\n\n    if (targetConfig.type === 'wrapper') {\n      elements = [contextNode];\n    } else if (targetConfig.selector) {\n      elements = contextNode.querySelectorAll(targetConfig.selector);\n    } else {\n      elements = [contextNode];\n    }\n\n    if (!elements.length) {\n      if (debug) console.warn(`${logPrefix} No elements found for selector:`, targetConfig.selector);\n      return null;\n    }\n\n    const animConfig = cfg.animation || {};\n    const method = animConfig.method || 'from';\n\n    const calcContext = elements[0];\n\n    // --- SplitText Support ---\n    if (animConfig.split) {\n      if (window.SplitText) {\n        try {\n          const requestedType = animConfig.split.toLowerCase();\n          const existingSplit = elements[0]?._splitText;\n          const existingType = elements[0]?._splitTextType;\n          let split;\n\n          const typeMatches = existingType === requestedType;\n          const hasUsableSplit = existingSplit && (existingSplit.chars?.length || existingSplit.words?.length || existingSplit.lines?.length);\n\n          if (hasUsableSplit && typeMatches) {\n            split = existingSplit;\n          } else {\n            if (existingSplit) {\n              existingSplit.revert();\n            }\n\n            split = new SplitText(elements, { type: requestedType });\n\n            elements.forEach(el => {\n              el._splitText = split;\n              el._splitTextType = requestedType;\n            });\n          }\n\n          if (requestedType.includes('char') && split.chars && split.chars.length) elements = split.chars;\n          else if (requestedType.includes('word') && split.words && split.words.length) elements = split.words;\n          else if (requestedType.includes('line') && split.lines && split.lines.length) elements = split.lines;\n\n          if (elements.length) {\n            // Elements need to be inline-block or similar for most transforms to work on text\n            gsap.set(elements, { display: 'inline-block', backfaceVisibility: 'hidden' });\n          }\n        } catch (e) {\n          if (debug) console.warn(`${logPrefix} SplitText error:`, e);\n        }\n      } else {\n        if (debug) console.warn(`${logPrefix} SplitText not found`);\n      }\n    }\n\n    const vars = parseMacros({ ...animConfig.vars }, calcContext);\n    const vars2 = animConfig.vars2 ? parseMacros({ ...animConfig.vars2 }, calcContext) : null;\n\n    // Standardize variables\n    const ensureAutoAlpha = (v) => {\n      if (v && v.opacity !== undefined) {\n        v.autoAlpha = v.opacity;\n        delete v.opacity;\n      }\n    };\n    ensureAutoAlpha(vars);\n    ensureAutoAlpha(vars2);\n\n    // Apply defaults and ScrollTrigger\n    if (vars.scrollTrigger) {\n      vars.scrollTrigger.trigger = contextNode;\n      if (config.id) vars.scrollTrigger.id = 'sc-' + config.id;\n      if (typeof vars.scrollTrigger.invalidateOnRefresh === 'undefined') vars.scrollTrigger.invalidateOnRefresh = true;\n      if (typeof vars.scrollTrigger.anticipatePin === 'undefined' && vars.scrollTrigger.pin) vars.scrollTrigger.anticipatePin = 0.5;\n    }\n    if (vars2 && vars2.scrollTrigger) {\n      vars2.scrollTrigger.trigger = contextNode;\n      if (config.id) vars2.scrollTrigger.id = 'sc-' + config.id;\n    }\n\n    if (method === 'from' || method === 'fromTo') {\n      vars.immediateRender = true;\n\n      // FAIL-SAFE: Hide elements manually to prevent FOUC before GSAP takes over\n      if (vars.autoAlpha === 0 || vars.opacity === 0) {\n        elements.forEach(el => {\n          if (el.style) el.style.visibility = 'hidden';\n        });\n      }\n    }\n\n    let tween;\n    const tweenVars = { ...vars, overwrite: 'auto' };\n\n    if (method === 'fromTo' && vars2) {\n      tween = gsap.fromTo(elements, tweenVars, { ...vars2, overwrite: 'auto' });\n    } else if (typeof gsap[method] === 'function') {\n      tween = gsap[method](elements, tweenVars);\n    }\n\n    if (!tween && debug) console.warn(`${logPrefix} Unknown GSAP method:`, method);\n    return tween;\n  };\n\n  const tweens = [];\n\n  const handlePreview = (tween) => {\n    const isManualPreview = (window.ScrollCrafterForcePreview === config.id) ||\n      (window.parent && window.parent.ScrollCrafterForcePreview === config.id) ||\n      (node.getAttribute('data-sc-preview') === 'yes');\n\n    if (isManualPreview && tween) {\n      if (debug) console.log(`${logPrefix} Manual preview detected, force playing animation`);\n\n      if (tween.scrollTrigger) {\n        const st = tween.scrollTrigger;\n        if (st.pin || (st.vars && st.vars.scrub)) {\n          if (debug) console.log(`${logPrefix} Pin/Scrub detected, animating progress`);\n          gsap.fromTo(st, { progress: 0 }, {\n            progress: 1,\n            duration: 1.5,\n            ease: \"power1.inOut\"\n          });\n        } else {\n          st.disable();\n          tween.restart(true);\n        }\n      } else {\n        tween.restart(true);\n      }\n    }\n  };\n\n  const cleanup = createResponsiveContext(gsap, config, (activeConfig, range) => {\n    logConfig(`Active: ${range.slug}`, { ...config, animation: activeConfig });\n\n    const tween = createTween({ ...config, animation: activeConfig }, node);\n    if (tween) {\n      tweens.push(tween);\n      handlePreview(tween);\n    }\n    return tween;\n  }, node);\n\n  return () => {\n    if (debug) console.log(`${logPrefix} Cleaning up...`);\n    cleanup();\n    tweens.forEach(t => {\n      if (t.scrollTrigger) {\n        t.scrollTrigger.kill(true);\n      }\n      t.kill();\n    });\n  };\n});\n", "import { registerWidget } from '../core/registry';\nimport { getGsap, getScrollTrigger } from '../core/gsap-loader';\nimport { parseMacros } from '../core/utils';\nimport { createResponsiveContext } from '../core/responsive';\n\nfunction getPinElement(node) {\n  return node;\n}\n\nfunction createTimeline(node, configData, globalConfig, debug, logPrefix, gsap) {\n  const pinElem = getPinElement(node);\n\n  const targetCfg = configData.target || globalConfig.target || {};\n  let mainTargets = [pinElem];\n\n  if (targetCfg.selector && targetCfg.type !== 'wrapper') {\n    const found = pinElem.querySelectorAll(targetCfg.selector);\n    if (found.length) mainTargets = Array.from(found);\n  }\n\n  const timelineVars = { ...(configData.timelineVars || {}) };\n  if (timelineVars.defaults) {\n    timelineVars.defaults = parseMacros(timelineVars.defaults, pinElem);\n  }\n\n  if (!timelineVars.scrollTrigger) timelineVars.scrollTrigger = {};\n  const st = timelineVars.scrollTrigger;\n\n  if (!st.trigger) st.trigger = pinElem;\n  if (st.pin === true) st.pin = pinElem;\n\n  if (st.pin) {\n    gsap.set(st.pin, { transition: \"none\" });\n  }\n  if (typeof st.invalidateOnRefresh === 'undefined') st.invalidateOnRefresh = true;\n  if (typeof st.anticipatePin === 'undefined') st.anticipatePin = 0.5;\n  if (globalConfig.id && !st.id) st.id = `sc-${globalConfig.id}`;\n\n  const tl = gsap.timeline(timelineVars);\n\n  const steps = configData.steps || [];\n  steps.forEach((step, index) => {\n    const method = step.method || 'to';\n    const position = step.position;\n\n    if (method === 'addLabel') {\n      const label = step.vars;\n      if (typeof label === 'string') tl.addLabel(label, position);\n      return;\n    }\n    if (method === 'call') return;\n\n    let targets = mainTargets;\n    if (step.selector) {\n      const found = pinElem.querySelectorAll(step.selector);\n      if (!found.length) {\n        if (debug) console.warn(`${logPrefix} Step ${index + 1}: selector \"${step.selector}\" not found`);\n        return;\n      }\n      targets = Array.from(found);\n    }\n\n    const vars = parseMacros(step.vars || {}, pinElem);\n    const vars2 = step.vars2 ? parseMacros(step.vars2, pinElem) : null;\n\n    // Map opacity to autoAlpha for BETTER visibility handling (prevents FOUC)\n    const ensureAutoAlpha = (v) => {\n      if (v && v.opacity !== undefined) {\n        v.autoAlpha = v.opacity;\n        delete v.opacity;\n      }\n    };\n    ensureAutoAlpha(vars);\n    ensureAutoAlpha(vars2);\n\n    gsap.set(targets, {\n      transition: \"none\",\n      translate: \"none\",\n      rotate: \"none\",\n      scale: \"none\"\n    });\n\n    if (step.split && window.SplitText) {\n      try {\n        const split = new SplitText(targets, { type: step.split });\n        if (split.chars && split.chars.length) targets = split.chars;\n        else if (split.words && split.words.length) targets = split.words;\n        else if (split.lines && split.lines.length) targets = split.lines;\n\n        if (targets.length) {\n          gsap.set(targets, { display: 'inline-block', backfaceVisibility: 'hidden' });\n        }\n      } catch (e) {\n        if (debug) console.warn(`${logPrefix} SplitText error:`, e);\n      }\n    }\n\n    if (method === 'from' || method === 'fromTo') {\n      vars.immediateRender = true;\n\n      // FAIL-SAFE: Hide elements manually to prevent FOUC before GSAP takes over\n      if (vars.autoAlpha === 0 || vars.opacity === 0) {\n        targets.forEach(el => {\n          if (el.style) el.style.visibility = 'hidden';\n        });\n      }\n    }\n\n    try {\n      let stepTween;\n      const tweenVars = { ...vars, overwrite: 'auto' };\n      if (method === 'fromTo' && vars2) {\n        stepTween = tl.fromTo(targets, tweenVars, { ...vars2, overwrite: 'auto' }, position);\n      } else if (typeof tl[method] === 'function') {\n        stepTween = tl[method](targets, tweenVars, position);\n      }\n    } catch (e) {\n      if (debug) console.error(`${logPrefix} Error step ${index + 1}`, e);\n    }\n  });\n\n  return tl;\n}\n\n\nregisterWidget('scroll_timeline', (node, config) => {\n  const debug = !!window.ScrollCrafterConfig?.debug;\n  const logPrefix = `[ScrollCrafter][timeline:${config.id || 'tl'}]`;\n\n  const logConfig = (label, cfg) => {\n    if (!debug) return;\n    console.group(`${logPrefix} ${label}`);\n    console.log('Details:', cfg);\n    console.groupEnd();\n  };\n\n  let gsap;\n  try {\n    gsap = getGsap();\n    getScrollTrigger();\n  } catch (e) {\n    if (debug) console.error(`${logPrefix} GSAP missing`, e);\n    return;\n  }\n\n  const timelines = [];\n\n  const handlePreview = (tl) => {\n    const isManualPreview = (window.ScrollCrafterForcePreview === config.id) ||\n      (window.parent && window.parent.ScrollCrafterForcePreview === config.id) ||\n      (node.getAttribute('data-sc-preview') === 'yes');\n\n    if (isManualPreview && tl) {\n      if (debug) console.log(`${logPrefix} Manual preview detected, force playing timeline`);\n      if (tl.scrollTrigger) {\n        const st = tl.scrollTrigger;\n        if (st.pin || (st.vars && st.vars.scrub)) {\n          if (debug) console.log(`${logPrefix} Pin/Scrub detected, animating progress`);\n          gsap.fromTo(st, { progress: 0 }, {\n            progress: 1,\n            duration: 1.5,\n            ease: \"power1.inOut\"\n          });\n        } else {\n          st.disable();\n          tl.restart(true);\n        }\n      } else {\n        tl.restart(true);\n      }\n    }\n  };\n\n  const cleanup = createResponsiveContext(gsap, config, (activeConfig, range) => {\n    const configWithSteps = activeConfig.steps ? activeConfig : config;\n\n    if (!configWithSteps.steps || configWithSteps.steps.length === 0) {\n      return null;\n    }\n\n    logConfig(`Active: ${range.slug}`, activeConfig);\n    const tl = createTimeline(node, configWithSteps, config, debug, logPrefix + `[${range.slug}]`, gsap);\n\n    if (tl) {\n      timelines.push(tl);\n      handlePreview(tl);\n    }\n    return tl;\n  }, node);\n\n  return () => {\n    if (debug) console.log(`${logPrefix} Cleaning up...`);\n    cleanup();\n    timelines.forEach(t => {\n      if (t.scrollTrigger) {\n        t.scrollTrigger.kill(true);\n      }\n      t.kill();\n    });\n  };\n});\n", "/**\n * ScrollCrafter Direct Preview Player\n * \n * Exposes window.scPreview() for the editor to call directly,\n * bypassing Elementor's problematic hook system.\n */\n\nimport { getGsap, getScrollTrigger } from './core/gsap-loader';\nimport { parseMacros } from './core/utils';\nimport { resolveConfigForBreakpoint, getBreakpointRanges } from './core/responsive';\nimport { setPreviewLock } from './core/registry';\n\nconst DEBUG = !!window.ScrollCrafterConfig?.debug;\nconst log = (...args) => DEBUG && console.log('[SC Preview]', ...args);\n\nconst activePreview = new Map();\n\n/**\n * Clean up any existing preview for a widget\n * IMPORTANT: Does NOT revert SplitText - that would break it for reuse!\n */\nfunction cleanupPreview(widgetId, releaseLock = true) {\n    if (activePreview.has(widgetId)) {\n        const { tween, elements } = activePreview.get(widgetId);\n        log(`Cleaning up existing preview for ${widgetId}`);\n\n        if (tween) {\n            if (tween.scrollTrigger) {\n                tween.scrollTrigger.kill(true);\n            }\n            tween.progress(1);\n            tween.kill();\n        }\n\n        if (elements && elements.length) {\n            const gsap = getGsap();\n            if (gsap) {\n                gsap.set(elements, { clearProps: 'all' });\n            }\n        }\n\n        activePreview.delete(widgetId);\n    }\n\n    if (releaseLock) {\n        setPreviewLock(widgetId, false);\n        log(`Preview lock released for ${widgetId}`);\n    }\n}\n\nfunction createAnimation(node, animConfig, config) {\n    const gsap = getGsap();\n    if (!gsap) {\n        console.error('[SC Preview] GSAP not available');\n        return null;\n    }\n\n    const targetConfig = config.target || {};\n    let elements = [];\n\n    if (targetConfig.type === 'wrapper') {\n        elements = [node];\n    } else if (targetConfig.selector) {\n        elements = node.querySelectorAll(targetConfig.selector);\n    } else {\n        elements = [node];\n    }\n\n    if (!elements.length) {\n        log('No target elements found');\n        return null;\n    }\n\n    const method = animConfig.method || 'from';\n    let split = null;\n\n    if (animConfig.split && window.SplitText) {\n        try {\n            const requestedType = animConfig.split.toLowerCase();\n            const existingSplit = elements[0]?._splitText;\n            const existingType = elements[0]?._splitTextType;\n\n            const typeMatches = existingType === requestedType;\n            const hasUsableSplit = existingSplit && (existingSplit.chars?.length || existingSplit.words?.length || existingSplit.lines?.length);\n\n            if (hasUsableSplit && typeMatches) {\n                log(`Reusing existing SplitText (type: ${existingType})`);\n                split = existingSplit;\n            } else {\n                if (existingSplit) {\n                    log(`Type mismatch (${existingType} vs ${requestedType}), reverting and creating new`);\n                    existingSplit.revert();\n                } else {\n                    log('Creating fresh SplitText with type:', requestedType);\n                }\n\n                split = new SplitText(elements, { type: requestedType });\n\n                log('SplitText result:', {\n                    chars: split.chars?.length || 0,\n                    words: split.words?.length || 0,\n                    lines: split.lines?.length || 0\n                });\n\n                elements.forEach(el => {\n                    el._splitText = split;\n                    el._splitTextType = requestedType;\n                });\n            }\n\n            if (requestedType.includes('char') && split.chars && split.chars.length > 0) {\n                elements = split.chars;\n            } else if (requestedType.includes('word') && split.words && split.words.length > 0) {\n                elements = split.words;\n            } else if (requestedType.includes('line') && split.lines && split.lines.length > 0) {\n                elements = split.lines;\n            }\n\n            log(`SplitText: ${elements.length} elements (type: ${requestedType})`);\n\n            if (elements.length > 0) {\n                gsap.set(elements, { display: 'inline-block' });\n            }\n        } catch (e) {\n            console.warn('[SC Preview] SplitText error:', e);\n        }\n    }\n\n    const vars = parseMacros({ ...animConfig.vars }, elements[0]);\n    const vars2 = animConfig.vars2 ? parseMacros({ ...animConfig.vars2 }, elements[0]) : null;\n\n    gsap.set(elements, {\n        transition: 'none',\n        translate: 'none',\n        rotate: 'none',\n        scale: 'none'\n    });\n\n    delete vars.scrollTrigger;\n    if (vars2) delete vars2.scrollTrigger;\n\n    if (method === 'from' && vars.immediateRender === undefined) {\n        vars.immediateRender = true;\n    }\n\n    log(`Creating ${method} tween for ${elements.length} elements`);\n\n    let tween;\n    if (method === 'fromTo' && vars2) {\n        tween = gsap.fromTo(elements, vars, vars2);\n    } else if (typeof gsap[method] === 'function') {\n        tween = gsap[method](elements, vars);\n    }\n\n    if (tween && (method === 'from' || method === 'fromTo')) {\n        tween.progress(1).progress(0);\n    }\n\n    return { tween, elements };\n}\n\n/**\n * Direct preview API - called from editor\n * @param {string} widgetId - Widget ID\n * @param {object} config - Full widget config from REST API\n * @param {string} breakpoint - Active breakpoint slug\n */\nfunction scPreview(widgetId, config, breakpoint) {\n    log(`Preview requested: widget=${widgetId}, breakpoint=${breakpoint}`);\n\n    setPreviewLock(widgetId, true);\n    log(`Preview lock acquired for ${widgetId}`);\n\n    const node = document.querySelector(`[data-id=\"${widgetId}\"]`);\n    if (!node) {\n        console.error(`[SC Preview] Widget ${widgetId} not found in DOM`);\n        setPreviewLock(widgetId, false);\n        return false;\n    }\n\n    cleanupPreview(widgetId, false);\n\n    const ranges = getBreakpointRanges();\n    let targetRange = ranges.find(r => r.slug === breakpoint);\n    if (!targetRange && breakpoint === 'desktop') {\n        targetRange = ranges.find(r => r.slug === '_default_desktop');\n    }\n\n    if (!targetRange) {\n        targetRange = ranges[0];\n    }\n\n    const activeConfig = resolveConfigForBreakpoint(config, targetRange);\n    if (!activeConfig) {\n        log('No active config for breakpoint:', breakpoint);\n        setPreviewLock(widgetId, false);\n        return false;\n    }\n\n    log('Active config:', activeConfig);\n\n    const result = createAnimation(node, activeConfig, config);\n    if (!result || !result.tween) {\n        log('Failed to create animation');\n        setPreviewLock(widgetId, false);\n        return false;\n    }\n\n    activePreview.set(widgetId, result);\n\n    const originalOnComplete = result.tween.vars.onComplete;\n    result.tween.vars.onComplete = function () {\n        log(`Preview animation completed for ${widgetId}`);\n        if (originalOnComplete) originalOnComplete.apply(this, arguments);\n\n        setTimeout(() => {\n            setPreviewLock(widgetId, false);\n            log(`Preview lock released for ${widgetId}`);\n        }, 2000);\n    };\n\n    log('Playing animation');\n    result.tween.restart(true);\n\n    return true;\n}\n\nfunction cleanupAllPreviews() {\n    log(`Cleaning up all previews (${activePreview.size} active)`);\n    for (const widgetId of activePreview.keys()) {\n        cleanupPreview(widgetId, true);\n    }\n}\n\nwindow.scPreview = scPreview;\nwindow.scPreviewCleanup = cleanupPreview;\nwindow.scPreviewCleanupAll = cleanupAllPreviews;\n\nlog('Direct Preview API initialized');\n", "/**\n * Lenis Smooth Scroll Integration\n * MIT License - Copyright (c) 2022 Studio Freight\n * \n * This module integrates Lenis with GSAP ScrollTrigger for smooth scrolling.\n * Pro feature only.\n * \n * @module smooth-scroll\n */\n\nlet lenisInstance = null;\n\nexport function initSmoothScroll(options = {}) {\n    if (typeof window.Lenis === 'undefined') {\n        console.warn('[ScrollCrafter] Lenis not loaded. Smooth scroll unavailable.');\n        return null;\n    }\n\n    if (lenisInstance) {\n        console.log('[ScrollCrafter] Lenis already initialized, returning existing instance.');\n        return lenisInstance;\n    }\n\n    const defaultOptions = {\n        lerp: 0.1,\n        duration: 1.2,\n        smoothWheel: true,\n        smoothTouch: false,\n        wheelMultiplier: 1,\n        touchMultiplier: 2,\n        infinite: false,\n    };\n\n    const finalOptions = { ...defaultOptions, ...options };\n\n    try {\n        lenisInstance = new window.Lenis(finalOptions);\n\n        if (window.gsap) {\n            window.gsap.ticker.add((time) => {\n                lenisInstance.raf(time * 1000);\n            });\n\n            window.gsap.ticker.lagSmoothing(0);\n        }\n\n        if (window.ScrollTrigger) {\n            lenisInstance.on('scroll', window.ScrollTrigger.update);\n\n            window.addEventListener('resize', () => {\n                window.ScrollTrigger.refresh();\n            });\n        }\n\n        if (window.ScrollCrafterConfig?.debug) {\n            console.log('[ScrollCrafter] Lenis smooth scroll initialized', finalOptions);\n        }\n\n        return lenisInstance;\n    } catch (error) {\n        console.error('[ScrollCrafter] Failed to initialize Lenis:', error);\n        return null;\n    }\n}\n\nexport function destroySmoothScroll() {\n    if (lenisInstance) {\n        lenisInstance.destroy();\n        lenisInstance = null;\n        if (window.ScrollCrafterConfig?.debug) {\n            console.log('[ScrollCrafter] Lenis destroyed');\n        }\n    }\n}\n\nexport function getLenisInstance() {\n    return lenisInstance;\n}\n\nexport function pauseSmoothScroll() {\n    if (lenisInstance) {\n        lenisInstance.stop();\n    }\n}\n\nexport function resumeSmoothScroll() {\n    if (lenisInstance) {\n        lenisInstance.start();\n    }\n}\n\nexport function scrollTo(target, options = {}) {\n    if (lenisInstance) {\n        lenisInstance.scrollTo(target, {\n            offset: 0,\n            duration: 1.2,\n            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // Expo ease out\n            ...options\n        });\n    }\n}\n\nif (typeof window !== 'undefined') {\n    const shouldInit = window.ScrollCrafterConfig?.smoothScroll?.enabled;\n\n    if (shouldInit) {\n        const init = () => {\n            const options = window.ScrollCrafterConfig?.smoothScroll?.options || {};\n            initSmoothScroll(options);\n        };\n\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', init);\n        } else {\n            setTimeout(init, 100);\n        }\n    }\n}\nif (typeof window !== 'undefined') {\n    window.ScrollCrafterSmooth = {\n        init: initSmoothScroll,\n        destroy: destroySmoothScroll,\n        getInstance: getLenisInstance,\n        pause: pauseSmoothScroll,\n        resume: resumeSmoothScroll,\n        scrollTo: scrollTo\n    };\n}\n", "import { initWidgetsInScope } from './core/registry';\nimport { getScrollTrigger } from './core/gsap-loader';\nimport './widgets/scroll-animation';\nimport './widgets/scroll-timeline';\nimport './preview-player';\nimport './core/smooth-scroll';\n\nfunction init() {\n  initWidgetsInScope(document);\n}\n\n// Early init to ensure GSAP can hide elements immediately (prevents flicker)\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n\n// Separate logic for hash navigation / refresh\nwindow.addEventListener('load', () => {\n  const ST = getScrollTrigger();\n  if (!ST) return;\n\n  if (window.location.hash) {\n    ST.clearScrollMemory();\n    setTimeout(() => ST.refresh(true), 200);\n  } else {\n    // Normal load: just a quick refresh for any lazy content\n    requestAnimationFrame(() => ST.refresh());\n  }\n});\n\nwindow.addEventListener('pageshow', (e) => {\n  if (e.persisted) {\n    const ST = getScrollTrigger();\n    if (ST) {\n      ST.clearScrollMemory();\n      ST.refresh(true);\n    }\n  }\n});\n\nif (document.fonts?.ready) {\n  document.fonts.ready.then(() => {\n    const ST = getScrollTrigger();\n    if (ST) ST.refresh();\n  });\n}\n\nwindow.addEventListener('elementor/popup/show', (e) => {\n  initWidgetsInScope(e.target);\n  const ST = getScrollTrigger();\n  if (ST) ST.refresh();\n});\n\nconst registerHooks = () => {\n  let attempts = 0;\n\n  const tryRegister = () => {\n    if (!window.elementorFrontend?.hooks) {\n      if (++attempts < 50) {\n        setTimeout(tryRegister, 100);\n      }\n      return;\n    }\n\n    let refreshTimeout;\n    const debouncedRefresh = () => {\n      clearTimeout(refreshTimeout);\n      refreshTimeout = setTimeout(() => {\n        const ST = getScrollTrigger();\n        if (ST) ST.refresh();\n      }, 200);\n    };\n\n    elementorFrontend.hooks.addAction('frontend/element_ready/global', ($scope) => {\n      const node = $scope[0];\n      if (!node) return;\n\n      if (elementorFrontend.isEditMode()) {\n        const widgetId = node.getAttribute('data-id');\n        if (widgetId) killTriggerByWidgetId(widgetId);\n\n        const getForcePreviewFlag = (id) => {\n          try {\n            if (window.ScrollCrafterForcePreview === id) return true;\n            if (window.parent?.ScrollCrafterForcePreview === id) return true;\n            if (window.top?.ScrollCrafterForcePreview === id) return true;\n            if (sessionStorage.getItem('sc_force_preview') === id) return true;\n          } catch (e) { }\n          return false;\n        };\n\n        const allowLive = !!window.ScrollCrafterConfig?.enableEditorAnimations;\n        const isManualPreview = node.getAttribute('data-sc-preview') === 'yes' || getForcePreviewFlag(widgetId);\n\n        if (!allowLive && !isManualPreview) return;\n\n        if (isManualPreview) {\n          setTimeout(() => {\n            if (window.ScrollCrafterForcePreview === widgetId) window.ScrollCrafterForcePreview = false;\n            if (window.parent?.ScrollCrafterForcePreview === widgetId) window.parent.ScrollCrafterForcePreview = false;\n            if (window.top?.ScrollCrafterForcePreview === widgetId) window.top.ScrollCrafterForcePreview = false;\n            sessionStorage.removeItem('sc_force_preview');\n          }, 100);\n        }\n      }\n\n      initWidgetsInScope(node, elementorFrontend.isEditMode());\n\n      if (elementorFrontend.isEditMode()) {\n        debouncedRefresh();\n      }\n    });\n  };\n\n  tryRegister();\n};\n\nregisterHooks();\nwindow.addEventListener('elementor/frontend/init', registerHooks);\n\nfunction killTriggerByWidgetId(widgetId) {\n  try {\n    const ST = getScrollTrigger();\n    if (!ST) return;\n\n    const st = ST.getById('sc-' + widgetId);\n    if (st) st.kill(true);\n  } catch (e) { }\n}\n"],
  "mappings": ";;AAAA,MAAM,WAAW,CAAC;AAElB,MAAM,mBAAmB,oBAAI,QAAQ;AACrC,MAAM,eAAe,oBAAI,IAAI;AAC7B,MAAM,eAAe,oBAAI,IAAI;AAEtB,WAAS,eAAe,UAAU,QAAQ;AAC/C,QAAI,QAAQ;AACV,mBAAa,IAAI,QAAQ;AAAA,IAC3B,OAAO;AACL,mBAAa,OAAO,QAAQ;AAAA,IAC9B;AAAA,EACF;AAEO,WAAS,eAAe,MAAM,QAAQ;AAC3C,aAAS,IAAI,IAAI;AAAA,EACnB;AAEO,WAAS,mBAAmB,OAAO,UAAU,QAAQ,OAAO;AACjE,QAAI,CAAC,MAAM;AACT;AAAA,IACF;AAEA,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,gBAAgB,KAAK,aAAa,2BAA2B,GAAG;AACvE,YAAM,KAAK,IAAI;AAAA,IACjB;AACA,QAAI,KAAK,kBAAkB;AACzB,WAAK,iBAAiB,6BAA6B,EAAE,QAAQ,OAAK,MAAM,KAAK,CAAC,CAAC;AAAA,IACjF;AAEA,UAAM,QAAQ,CAAC,SAAS;AA/B1B,UAAAA;AAgCI,YAAM,WAAW,KAAK,aAAa,SAAS;AAE5C,UAAI,YAAY,aAAa,IAAI,QAAQ,GAAG;AAC1C,aAAIA,MAAA,OAAO,wBAAP,gBAAAA,IAA4B,OAAO;AACrC,kBAAQ,IAAI,qCAAqC,QAAQ,mBAAmB;AAAA,QAC9E;AACA;AAAA,MACF;AAEA,YAAM,gBAAgB,iBAAiB,IAAI,IAAI;AAC/C,UAAI,CAAC,SAAS,eAAe;AAC3B;AAAA,MACF;AAEA,UAAI,OAAO;AACT,YAAI,UAAU;AACZ,cAAI,aAAa,IAAI,QAAQ,GAAG;AAC9B,yBAAa,aAAa,IAAI,QAAQ,CAAC;AAAA,UACzC;AAEA,uBAAa,IAAI,UAAU,WAAW,MAAM;AAC1C,yBAAa,OAAO,QAAQ;AAC5B,gBAAI,CAAC,aAAa,IAAI,QAAQ,GAAG;AAC/B,2BAAa,MAAM,KAAK;AAAA,YAC1B;AAAA,UACF,GAAG,GAAG,CAAC;AAEP;AAAA,QACF;AAAA,MACF;AAEA,mBAAa,MAAM,KAAK;AAAA,IAC1B,CAAC;AAAA,EACH;AAEA,WAAS,aAAa,MAAM,OAAO;AAnEnC,QAAAA,KAAAC;AAoEE,QAAI,OAAO,KAAK,iBAAiB,YAAY;AAC3C,UAAI;AACF,aAAK,aAAa;AAAA,MACpB,SAAS,GAAG;AACV,gBAAQ,KAAK,kCAAkC,CAAC;AAAA,MAClD;AACA,aAAO,KAAK;AAAA,IACd;AAEA,UAAM,MAAM,KAAK,aAAa,2BAA2B;AACzD,QAAI,CAAC,IAAK;AAEV,QAAI;AACJ,QAAI;AACF,eAAS,KAAK,MAAM,GAAG;AAAA,IACzB,SAAS,GAAG;AACV,WAAID,MAAA,OAAO,wBAAP,gBAAAA,IAA4B,OAAO;AACrC,gBAAQ,KAAK,wCAAwC,GAAG,IAAI;AAAA,MAC9D;AACA;AAAA,IACF;AAEA,UAAM,OAAO,OAAO;AACpB,QAAI,CAAC,QAAQ,OAAO,SAAS,IAAI,MAAM,YAAY;AACjD;AAAA,IACF;AAEA,QAAI;AACF,WAAIC,MAAA,OAAO,wBAAP,gBAAAA,IAA4B,OAAO;AACrC,gBAAQ,IAAI,yCAAyC,IAAI,KAAK,IAAI;AAAA,MACpE;AAEA,YAAM,UAAU,SAAS,IAAI,EAAE,MAAM,MAAM;AAE3C,UAAI,OAAO,YAAY,YAAY;AACjC,aAAK,eAAe;AAAA,MACtB;AAEA,uBAAiB,IAAI,IAAI;AAEzB,WAAK;AAAA,QACH,IAAI,YAAY,sBAAsB;AAAA,UACpC,SAAS;AAAA,UACT,QAAQ,EAAE,MAAM,OAAO;AAAA,QACzB,CAAC;AAAA,MACH;AAAA,IACF,SAAS,GAAG;AACV,cAAQ,MAAM,mCAAmC,IAAI,MAAM,CAAC;AAAA,IAC9D;AAAA,EACF;;;ACrHO,WAAS,UAAU;AACxB,QAAI,OAAO,WAAW,YAAa,QAAO;AAE1C,UAAM,EAAE,KAAK,IAAI;AAEjB,QAAI,CAAC,MAAM;AACT,cAAQ,MAAM,uEAAuE;AACrF,aAAO;AAAA,IACT;AAEA,QAAI,OAAO,iBAAiB,KAAK,gBAAgB;AAC/C,UAAI;AACA,aAAK,eAAe,OAAO,aAAa;AAAA,MAC5C,SAAS,GAAG;AAAA,MACZ;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAEO,WAAS,mBAAmB;AACjC,QAAI,OAAO,WAAW,YAAa,QAAO;AAE1C,QAAI,CAAC,OAAO,eAAe;AACzB,cAAQ,KAAK,mEAAmE;AAChF,aAAO;AAAA,IACT;AAEA,WAAO,OAAO;AAAA,EAChB;;;ACzBA,MAAM,gBAAgB,oBAAI,IAAI;AAMvB,WAAS,gBAAgB,KAAK,aAAa;AAC9C,QAAI,OAAO,QAAQ,SAAU,QAAO;AAEpC,QAAI,QAAQ,wBAAyB,OAAM;AAC3C,QAAI,QAAQ,oBAAqB,OAAM;AACvC,QAAI,QAAQ,aAAc,OAAM;AAEhC,UAAM,YAAY,IAAI,MAAM,oBAAoB;AAChD,QAAI,WAAW;AACX,YAAM,aAAa,UAAU,CAAC,EAAE,QAAQ,+BAA+B,SAAS;AAEhF,aAAO,CAAC,OAAO,WAAW;AACtB,cAAM,KAAK,UAAU;AACrB,cAAM,KAAK,OAAO;AAClB,cAAM,KAAK,OAAO;AAClB,cAAM,KAAK,GAAG,eAAe;AAC7B,cAAM,KAAK,GAAG,gBAAgB;AAC9B,cAAM,KAAK,KAAK,IAAI,GAAG,GAAG,cAAc,EAAE;AAE1C,cAAM,UAAU;AAAA,UACZ;AAAA,UAAI;AAAA,UAAI;AAAA,UAAI;AAAA,UAAI;AAAA,UAChB,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU,KAAK,MAAM;AAAA,UACrB,KAAK,KAAK;AAAA,QACd;AAEA,YAAI,YAAY;AAChB,cAAM,aAAa,CAAC,WAAW,UAAU,MAAM,MAAM,MAAM,MAAM,MAAM,KAAK;AAE5E,mBAAW,QAAQ,SAAO;AACtB,sBAAY,UAAU,QAAQ,IAAI,OAAO,MAAM,GAAG,OAAO,IAAI,GAAG,QAAQ,GAAG,CAAC;AAAA,QAChF,CAAC;AAED,YAAI,KAAK,cAAc,IAAI,SAAS;AACpC,YAAI,CAAC,IAAI;AACL,gBAAM,cAAc,UAAU,QAAQ,0BAA0B,EAAE;AAClE,cAAI,YAAY,SAAS,GAAG;AACxB,oBAAQ,KAAK,2DAA2D,WAAW;AACnF,mBAAO;AAAA,UACX;AACA,cAAI;AACA,iBAAK,IAAI,SAAS,YAAY,SAAS;AACvC,0BAAc,IAAI,WAAW,EAAE;AAAA,UACnC,SAAS,GAAG;AACR,oBAAQ,MAAM,kCAAkC,GAAG,SAAS;AAC5D,mBAAO;AAAA,UACX;AAAA,QACJ;AAEA,YAAI;AACA,iBAAO,GAAG;AAAA,QACd,SAAS,GAAG;AACR,kBAAQ,MAAM,oCAAoC,CAAC;AACnD,iBAAO;AAAA,QACX;AAAA,MACJ;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AAKO,WAAS,YAAY,MAAM,aAAa;AAC3C,QAAI,CAAC,QAAQ,OAAO,SAAS,SAAU,QAAO;AAC9C,UAAM,MAAM,EAAE,GAAG,KAAK;AACtB,WAAO,KAAK,GAAG,EAAE,QAAQ,CAAC,QAAQ;AAC9B,YAAM,MAAM,IAAI,GAAG;AACnB,UAAI,OAAO,OAAO,QAAQ,YAAY,CAAC,MAAM,QAAQ,GAAG,GAAG;AACvD,YAAI,GAAG,IAAI,YAAY,KAAK,WAAW;AACvC;AAAA,MACJ;AACA,UAAI,GAAG,IAAI,gBAAgB,KAAK,WAAW;AAAA,IAC/C,CAAC;AACD,WAAO;AAAA,EACX;;;AC9EA,MAAI,eAAe;AACnB,MAAI,0BAA0B;AAG9B,MAAM,kBAAkB;AAAA,IACpB,kBAAkB;AAAA,EACtB;AAEA,MAAM,sBAAsB;AAAA,IACxB,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,YAAY;AAAA,EAChB;AAYA,WAAS,wBAAwB;AA/BjC,QAAAC;AAgCI,UAAM,mBAAiBA,MAAA,OAAO,wBAAP,gBAAAA,IAA4B,gBAAe,CAAC;AACnE,QAAI,CAAC,eAAe,QAAQ;AACxB,aAAO,CAAC,EAAE,MAAM,oBAAoB,OAAO,oBAAoB,KAAK,GAAG,KAAK,SAAS,CAAC;AAAA,IAC1F;AAEA,UAAM,YAAY,CAAC,GAAG,cAAc,EAAE,KAAK,CAAC,GAAG,MAAM,EAAE,QAAQ,EAAE,KAAK;AACtE,UAAM,SAAS,CAAC;AAChB,QAAI,UAAU;AAEd,cAAU,QAAQ,QAAM;AACpB,YAAM,MAAM,UAAU;AACtB,YAAM,MAAM,GAAG;AACf,gBAAU;AAEV,YAAM,QAAQ,QAAQ,IAChB,eAAe,GAAG,QAClB,eAAe,GAAG,uBAAuB,GAAG;AAElD,aAAO,KAAK,EAAE,MAAM,GAAG,KAAK,OAAO,KAAK,IAAI,CAAC;AAAA,IACjD,CAAC;AAED,WAAO,KAAK;AAAA,MACR,MAAM;AAAA,MACN,OAAO,eAAe,UAAU,CAAC;AAAA,MACjC,KAAK,UAAU;AAAA,MACf,KAAK;AAAA,IACT,CAAC;AAED,WAAO;AAAA,EACX;AAEO,WAAS,sBAAsB;AAClC,QAAI,iBAAiB,MAAM;AACvB,qBAAe,sBAAsB;AAAA,IACzC;AACA,WAAO;AAAA,EACX;AAEA,WAAS,QAAQ;AAtEjB,QAAAA;AAuEI,WAAO,CAAC,GAACA,MAAA,OAAO,wBAAP,gBAAAA,IAA4B;AAAA,EACzC;AAEO,WAAS,yBAAyB,KAAK;AAC1C,QAAI,QAAQ,gBAAgB,GAAG;AAE/B,QAAI,CAAC,SAAS,MAAM,GAAG;AACnB,cAAQ,oBAAoB,GAAG;AAAA,IACnC;AAEA,QAAI,CAAC,MAAO,QAAO;AAEnB,QAAI,4BAA4B,MAAM;AAClC,gCAA0B,CAAC;AAAA,IAC/B;AAEA,QAAI,wBAAwB,GAAG,MAAM,QAAW;AAC5C,8BAAwB,GAAG,IAAI,OAAO,WAAW,KAAK,EAAE;AAAA,IAC5D;AAEA,WAAO,wBAAwB,GAAG;AAAA,EACtC;AAEO,WAAS,2BAA2B;AACvC,WAAO,yBAAyB,gBAAgB;AAAA,EACpD;AAQO,WAAS,2BAA2B,QAAQ,OAAO;AAxG1D,QAAAA;AAyGI,QAAI,OAAO,YAAY,OAAO,SAAS,SAAS,MAAM,IAAI,GAAG;AACzD,aAAO;AAAA,IACX;AAEA,QAAI,yBAAyB,OAAKA,MAAA,OAAO,eAAP,gBAAAA,IAAoB,oBAAmB;AACrE,aAAO,OAAO,WAAW,gBAAgB;AAAA,IAC7C;AACA,QAAI,MAAM,SAAS,oBAAoB;AACnC,UAAI,OAAO,YAAY;AACnB,mBAAW,aAAa,OAAO,OAAO,OAAO,UAAU,GAAG;AACtD,cAAI,UAAU,QAAQ,UAAU,KAAK,SAAS,MAAM,IAAI,GAAG;AACvD,mBAAO,UAAU,UAAU;AAAA,UAC/B;AAAA,QACJ;AAAA,MACJ;AACA,UAAI,OAAO,SAAS,OAAO,MAAM,MAAM,IAAI,GAAG;AAC1C,eAAO,OAAO,MAAM,MAAM,IAAI;AAAA,MAClC;AAAA,IACJ;AACA,WAAO,OAAO,aAAa;AAAA,EAC/B;AAyCO,WAAS,wBAAwB,MAAM,QAAQ,UAAU,UAAU,MAAM;AAtKhF,QAAAC,KAAAC,KAAA;AAuKI,UAAM,QAAQ,CAAC,GAACD,MAAA,OAAO,wBAAP,gBAAAA,IAA4B;AAC5C,UAAM,SAAS,oBAAoB;AACnC,UAAM,UAAU,CAAC;AAEjB,UAAM,sBAAsB,OAAO,YAAY,CAAC;AAEhD,UAAM,oBAAkBC,MAAA,mCAAS,iBAAT,gBAAAA,IAAA,cAAwB,6CACzC,wCAAS,SAAT,iCAAgB,2CAChB;AAEP,QAAI,iBAAiB;AACjB,UAAI,MAAO,SAAQ,IAAI,8CAA8C,eAAe,EAAE;AAEtF,UAAI,cAAc,OAAO,KAAK,OAAK,EAAE,SAAS,eAAe;AAC7D,UAAI,CAAC,eAAe,oBAAoB,WAAW;AAC/C,sBAAc,OAAO,KAAK,OAAK,EAAE,SAAS,kBAAkB;AAAA,MAChE;AAEA,UAAI,eAAe,CAAC,oBAAoB,SAAS,YAAY,IAAI,GAAG;AAChE,cAAM,eAAe,2BAA2B,QAAQ,WAAW;AACnE,YAAI,cAAc;AACd,cAAI,MAAO,SAAQ,IAAI,oCAAoC,YAAY,IAAI,IAAI,YAAY;AAC3F,gBAAM,SAAS,SAAS,cAAc,WAAW;AACjD,cAAI,OAAQ,SAAQ,KAAK,MAAM;AAAA,QACnC;AAAA,MACJ;AAEA,aAAO,MAAM;AACT,YAAI,MAAO,SAAQ,IAAI,uDAAuD;AAC9E,eAAO;AAAA,MACX;AAAA,IACJ;AAEA,UAAM,KAAK,KAAK,WAAW;AAE3B,WAAO,QAAQ,WAAS;AACpB,UAAI,oBAAoB,SAAS,MAAM,IAAI,GAAG;AAC1C,YAAI,MAAO,SAAQ,IAAI,sCAAsC,MAAM,IAAI,EAAE;AACzE;AAAA,MACJ;AAEA,SAAG,IAAI,MAAM,OAAO,MAAM;AACtB,cAAM,eAAe,2BAA2B,QAAQ,KAAK;AAE7D,YAAI,cAAc;AACd,cAAI,OAAO;AACP,oBAAQ,IAAI,2BAA2B,MAAM,IAAI,IAAI,YAAY;AAAA,UACrE;AACA,gBAAM,SAAS,SAAS,cAAc,KAAK;AAC3C,cAAI,OAAQ,SAAQ,KAAK,MAAM;AAAA,QACnC;AAAA,MACJ,CAAC;AAAA,IACL,CAAC;AAED,WAAO,MAAM;AACT,UAAI,MAAO,SAAQ,IAAI,iDAAiD;AACxE,SAAG,OAAO;AACV,aAAO;AAAA,IACX;AAAA,EACJ;;;AC7NA,iBAAe,oBAAoB,CAAC,MAAM,WAAW;AALrD,QAAAC;AAME,UAAM,QAAQ,CAAC,GAACA,MAAA,OAAO,wBAAP,gBAAAA,IAA4B;AAC5C,UAAM,YAAY,mBAAmB,OAAO,MAAM,MAAM;AAExD,UAAM,YAAY,CAAC,OAAO,QAAQ;AATpC,UAAAA,KAAAC,KAAA;AAUI,UAAI,CAAC,MAAO;AACZ,cAAQ,MAAM,GAAG,SAAS,IAAI,KAAK,EAAE;AACrC,cAAQ,IAAI,YAAWD,MAAA,IAAI,cAAJ,gBAAAA,IAAe,MAAM;AAC5C,cAAQ,IAAI,UAASC,MAAA,IAAI,cAAJ,gBAAAA,IAAe,IAAI;AACxC,cAAQ,IAAI,WAAU,SAAI,cAAJ,mBAAe,KAAK;AAC1C,cAAQ,IAAI,WAAW,IAAI,UAAU,OAAO,MAAM;AAClD,cAAQ,SAAS;AAAA,IACnB;AAEA,QAAI;AACJ,QAAI;AACF,aAAO,QAAQ;AACf,uBAAiB;AAAA,IACnB,SAAS,GAAG;AACV,UAAI,MAAO,SAAQ,MAAM,GAAG,SAAS,iBAAiB,CAAC;AACvD;AAAA,IACF;AAEA,UAAM,cAAc,CAAC,KAAK,gBAAgB;AA5B5C,UAAAD,KAAAC,KAAA;AA6BI,YAAM,eAAe,IAAI,UAAU,OAAO,UAAU,CAAC;AACrD,UAAI,WAAW,CAAC;AAEhB,UAAI,aAAa,SAAS,WAAW;AACnC,mBAAW,CAAC,WAAW;AAAA,MACzB,WAAW,aAAa,UAAU;AAChC,mBAAW,YAAY,iBAAiB,aAAa,QAAQ;AAAA,MAC/D,OAAO;AACL,mBAAW,CAAC,WAAW;AAAA,MACzB;AAEA,UAAI,CAAC,SAAS,QAAQ;AACpB,YAAI,MAAO,SAAQ,KAAK,GAAG,SAAS,oCAAoC,aAAa,QAAQ;AAC7F,eAAO;AAAA,MACT;AAEA,YAAM,aAAa,IAAI,aAAa,CAAC;AACrC,YAAM,SAAS,WAAW,UAAU;AAEpC,YAAM,cAAc,SAAS,CAAC;AAG9B,UAAI,WAAW,OAAO;AACpB,YAAI,OAAO,WAAW;AACpB,cAAI;AACF,kBAAM,gBAAgB,WAAW,MAAM,YAAY;AACnD,kBAAM,iBAAgBD,MAAA,SAAS,CAAC,MAAV,gBAAAA,IAAa;AACnC,kBAAM,gBAAeC,MAAA,SAAS,CAAC,MAAV,gBAAAA,IAAa;AAClC,gBAAI;AAEJ,kBAAM,cAAc,iBAAiB;AACrC,kBAAM,iBAAiB,oBAAkB,mBAAc,UAAd,mBAAqB,aAAU,mBAAc,UAAd,mBAAqB,aAAU,mBAAc,UAAd,mBAAqB;AAE5H,gBAAI,kBAAkB,aAAa;AACjC,sBAAQ;AAAA,YACV,OAAO;AACL,kBAAI,eAAe;AACjB,8BAAc,OAAO;AAAA,cACvB;AAEA,sBAAQ,IAAI,UAAU,UAAU,EAAE,MAAM,cAAc,CAAC;AAEvD,uBAAS,QAAQ,QAAM;AACrB,mBAAG,aAAa;AAChB,mBAAG,iBAAiB;AAAA,cACtB,CAAC;AAAA,YACH;AAEA,gBAAI,cAAc,SAAS,MAAM,KAAK,MAAM,SAAS,MAAM,MAAM,OAAQ,YAAW,MAAM;AAAA,qBACjF,cAAc,SAAS,MAAM,KAAK,MAAM,SAAS,MAAM,MAAM,OAAQ,YAAW,MAAM;AAAA,qBACtF,cAAc,SAAS,MAAM,KAAK,MAAM,SAAS,MAAM,MAAM,OAAQ,YAAW,MAAM;AAE/F,gBAAI,SAAS,QAAQ;AAEnB,mBAAK,IAAI,UAAU,EAAE,SAAS,gBAAgB,oBAAoB,SAAS,CAAC;AAAA,YAC9E;AAAA,UACF,SAAS,GAAG;AACV,gBAAI,MAAO,SAAQ,KAAK,GAAG,SAAS,qBAAqB,CAAC;AAAA,UAC5D;AAAA,QACF,OAAO;AACL,cAAI,MAAO,SAAQ,KAAK,GAAG,SAAS,sBAAsB;AAAA,QAC5D;AAAA,MACF;AAEA,YAAM,OAAO,YAAY,EAAE,GAAG,WAAW,KAAK,GAAG,WAAW;AAC5D,YAAM,QAAQ,WAAW,QAAQ,YAAY,EAAE,GAAG,WAAW,MAAM,GAAG,WAAW,IAAI;AAGrF,YAAM,kBAAkB,CAAC,MAAM;AAC7B,YAAI,KAAK,EAAE,YAAY,QAAW;AAChC,YAAE,YAAY,EAAE;AAChB,iBAAO,EAAE;AAAA,QACX;AAAA,MACF;AACA,sBAAgB,IAAI;AACpB,sBAAgB,KAAK;AAGrB,UAAI,KAAK,eAAe;AACtB,aAAK,cAAc,UAAU;AAC7B,YAAI,OAAO,GAAI,MAAK,cAAc,KAAK,QAAQ,OAAO;AACtD,YAAI,OAAO,KAAK,cAAc,wBAAwB,YAAa,MAAK,cAAc,sBAAsB;AAC5G,YAAI,OAAO,KAAK,cAAc,kBAAkB,eAAe,KAAK,cAAc,IAAK,MAAK,cAAc,gBAAgB;AAAA,MAC5H;AACA,UAAI,SAAS,MAAM,eAAe;AAChC,cAAM,cAAc,UAAU;AAC9B,YAAI,OAAO,GAAI,OAAM,cAAc,KAAK,QAAQ,OAAO;AAAA,MACzD;AAEA,UAAI,WAAW,UAAU,WAAW,UAAU;AAC5C,aAAK,kBAAkB;AAGvB,YAAI,KAAK,cAAc,KAAK,KAAK,YAAY,GAAG;AAC9C,mBAAS,QAAQ,QAAM;AACrB,gBAAI,GAAG,MAAO,IAAG,MAAM,aAAa;AAAA,UACtC,CAAC;AAAA,QACH;AAAA,MACF;AAEA,UAAI;AACJ,YAAM,YAAY,EAAE,GAAG,MAAM,WAAW,OAAO;AAE/C,UAAI,WAAW,YAAY,OAAO;AAChC,gBAAQ,KAAK,OAAO,UAAU,WAAW,EAAE,GAAG,OAAO,WAAW,OAAO,CAAC;AAAA,MAC1E,WAAW,OAAO,KAAK,MAAM,MAAM,YAAY;AAC7C,gBAAQ,KAAK,MAAM,EAAE,UAAU,SAAS;AAAA,MAC1C;AAEA,UAAI,CAAC,SAAS,MAAO,SAAQ,KAAK,GAAG,SAAS,yBAAyB,MAAM;AAC7E,aAAO;AAAA,IACT;AAEA,UAAM,SAAS,CAAC;AAEhB,UAAM,gBAAgB,CAAC,UAAU;AAC/B,YAAM,kBAAmB,OAAO,8BAA8B,OAAO,MAClE,OAAO,UAAU,OAAO,OAAO,8BAA8B,OAAO,MACpE,KAAK,aAAa,iBAAiB,MAAM;AAE5C,UAAI,mBAAmB,OAAO;AAC5B,YAAI,MAAO,SAAQ,IAAI,GAAG,SAAS,mDAAmD;AAEtF,YAAI,MAAM,eAAe;AACvB,gBAAM,KAAK,MAAM;AACjB,cAAI,GAAG,OAAQ,GAAG,QAAQ,GAAG,KAAK,OAAQ;AACxC,gBAAI,MAAO,SAAQ,IAAI,GAAG,SAAS,yCAAyC;AAC5E,iBAAK,OAAO,IAAI,EAAE,UAAU,EAAE,GAAG;AAAA,cAC/B,UAAU;AAAA,cACV,UAAU;AAAA,cACV,MAAM;AAAA,YACR,CAAC;AAAA,UACH,OAAO;AACL,eAAG,QAAQ;AACX,kBAAM,QAAQ,IAAI;AAAA,UACpB;AAAA,QACF,OAAO;AACL,gBAAM,QAAQ,IAAI;AAAA,QACpB;AAAA,MACF;AAAA,IACF;AAEA,UAAM,UAAU,wBAAwB,MAAM,QAAQ,CAAC,cAAc,UAAU;AAC7E,gBAAU,WAAW,MAAM,IAAI,IAAI,EAAE,GAAG,QAAQ,WAAW,aAAa,CAAC;AAEzE,YAAM,QAAQ,YAAY,EAAE,GAAG,QAAQ,WAAW,aAAa,GAAG,IAAI;AACtE,UAAI,OAAO;AACT,eAAO,KAAK,KAAK;AACjB,sBAAc,KAAK;AAAA,MACrB;AACA,aAAO;AAAA,IACT,GAAG,IAAI;AAEP,WAAO,MAAM;AACX,UAAI,MAAO,SAAQ,IAAI,GAAG,SAAS,iBAAiB;AACpD,cAAQ;AACR,aAAO,QAAQ,OAAK;AAClB,YAAI,EAAE,eAAe;AACnB,YAAE,cAAc,KAAK,IAAI;AAAA,QAC3B;AACA,UAAE,KAAK;AAAA,MACT,CAAC;AAAA,IACH;AAAA,EACF,CAAC;;;AC3LD,WAAS,cAAc,MAAM;AAC3B,WAAO;AAAA,EACT;AAEA,WAAS,eAAe,MAAM,YAAY,cAAc,OAAO,WAAW,MAAM;AAC9E,UAAM,UAAU,cAAc,IAAI;AAElC,UAAM,YAAY,WAAW,UAAU,aAAa,UAAU,CAAC;AAC/D,QAAI,cAAc,CAAC,OAAO;AAE1B,QAAI,UAAU,YAAY,UAAU,SAAS,WAAW;AACtD,YAAM,QAAQ,QAAQ,iBAAiB,UAAU,QAAQ;AACzD,UAAI,MAAM,OAAQ,eAAc,MAAM,KAAK,KAAK;AAAA,IAClD;AAEA,UAAM,eAAe,EAAE,GAAI,WAAW,gBAAgB,CAAC,EAAG;AAC1D,QAAI,aAAa,UAAU;AACzB,mBAAa,WAAW,YAAY,aAAa,UAAU,OAAO;AAAA,IACpE;AAEA,QAAI,CAAC,aAAa,cAAe,cAAa,gBAAgB,CAAC;AAC/D,UAAM,KAAK,aAAa;AAExB,QAAI,CAAC,GAAG,QAAS,IAAG,UAAU;AAC9B,QAAI,GAAG,QAAQ,KAAM,IAAG,MAAM;AAE9B,QAAI,GAAG,KAAK;AACV,WAAK,IAAI,GAAG,KAAK,EAAE,YAAY,OAAO,CAAC;AAAA,IACzC;AACA,QAAI,OAAO,GAAG,wBAAwB,YAAa,IAAG,sBAAsB;AAC5E,QAAI,OAAO,GAAG,kBAAkB,YAAa,IAAG,gBAAgB;AAChE,QAAI,aAAa,MAAM,CAAC,GAAG,GAAI,IAAG,KAAK,MAAM,aAAa,EAAE;AAE5D,UAAM,KAAK,KAAK,SAAS,YAAY;AAErC,UAAM,QAAQ,WAAW,SAAS,CAAC;AACnC,UAAM,QAAQ,CAAC,MAAM,UAAU;AAC7B,YAAM,SAAS,KAAK,UAAU;AAC9B,YAAM,WAAW,KAAK;AAEtB,UAAI,WAAW,YAAY;AACzB,cAAM,QAAQ,KAAK;AACnB,YAAI,OAAO,UAAU,SAAU,IAAG,SAAS,OAAO,QAAQ;AAC1D;AAAA,MACF;AACA,UAAI,WAAW,OAAQ;AAEvB,UAAI,UAAU;AACd,UAAI,KAAK,UAAU;AACjB,cAAM,QAAQ,QAAQ,iBAAiB,KAAK,QAAQ;AACpD,YAAI,CAAC,MAAM,QAAQ;AACjB,cAAI,MAAO,SAAQ,KAAK,GAAG,SAAS,SAAS,QAAQ,CAAC,eAAe,KAAK,QAAQ,aAAa;AAC/F;AAAA,QACF;AACA,kBAAU,MAAM,KAAK,KAAK;AAAA,MAC5B;AAEA,YAAM,OAAO,YAAY,KAAK,QAAQ,CAAC,GAAG,OAAO;AACjD,YAAM,QAAQ,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,IAAI;AAG9D,YAAM,kBAAkB,CAAC,MAAM;AAC7B,YAAI,KAAK,EAAE,YAAY,QAAW;AAChC,YAAE,YAAY,EAAE;AAChB,iBAAO,EAAE;AAAA,QACX;AAAA,MACF;AACA,sBAAgB,IAAI;AACpB,sBAAgB,KAAK;AAErB,WAAK,IAAI,SAAS;AAAA,QAChB,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAED,UAAI,KAAK,SAAS,OAAO,WAAW;AAClC,YAAI;AACF,gBAAM,QAAQ,IAAI,UAAU,SAAS,EAAE,MAAM,KAAK,MAAM,CAAC;AACzD,cAAI,MAAM,SAAS,MAAM,MAAM,OAAQ,WAAU,MAAM;AAAA,mBAC9C,MAAM,SAAS,MAAM,MAAM,OAAQ,WAAU,MAAM;AAAA,mBACnD,MAAM,SAAS,MAAM,MAAM,OAAQ,WAAU,MAAM;AAE5D,cAAI,QAAQ,QAAQ;AAClB,iBAAK,IAAI,SAAS,EAAE,SAAS,gBAAgB,oBAAoB,SAAS,CAAC;AAAA,UAC7E;AAAA,QACF,SAAS,GAAG;AACV,cAAI,MAAO,SAAQ,KAAK,GAAG,SAAS,qBAAqB,CAAC;AAAA,QAC5D;AAAA,MACF;AAEA,UAAI,WAAW,UAAU,WAAW,UAAU;AAC5C,aAAK,kBAAkB;AAGvB,YAAI,KAAK,cAAc,KAAK,KAAK,YAAY,GAAG;AAC9C,kBAAQ,QAAQ,QAAM;AACpB,gBAAI,GAAG,MAAO,IAAG,MAAM,aAAa;AAAA,UACtC,CAAC;AAAA,QACH;AAAA,MACF;AAEA,UAAI;AACF,YAAI;AACJ,cAAM,YAAY,EAAE,GAAG,MAAM,WAAW,OAAO;AAC/C,YAAI,WAAW,YAAY,OAAO;AAChC,sBAAY,GAAG,OAAO,SAAS,WAAW,EAAE,GAAG,OAAO,WAAW,OAAO,GAAG,QAAQ;AAAA,QACrF,WAAW,OAAO,GAAG,MAAM,MAAM,YAAY;AAC3C,sBAAY,GAAG,MAAM,EAAE,SAAS,WAAW,QAAQ;AAAA,QACrD;AAAA,MACF,SAAS,GAAG;AACV,YAAI,MAAO,SAAQ,MAAM,GAAG,SAAS,eAAe,QAAQ,CAAC,IAAI,CAAC;AAAA,MACpE;AAAA,IACF,CAAC;AAED,WAAO;AAAA,EACT;AAGA,iBAAe,mBAAmB,CAAC,MAAM,WAAW;AA7HpD,QAAAC;AA8HE,UAAM,QAAQ,CAAC,GAACA,MAAA,OAAO,wBAAP,gBAAAA,IAA4B;AAC5C,UAAM,YAAY,4BAA4B,OAAO,MAAM,IAAI;AAE/D,UAAM,YAAY,CAAC,OAAO,QAAQ;AAChC,UAAI,CAAC,MAAO;AACZ,cAAQ,MAAM,GAAG,SAAS,IAAI,KAAK,EAAE;AACrC,cAAQ,IAAI,YAAY,GAAG;AAC3B,cAAQ,SAAS;AAAA,IACnB;AAEA,QAAI;AACJ,QAAI;AACF,aAAO,QAAQ;AACf,uBAAiB;AAAA,IACnB,SAAS,GAAG;AACV,UAAI,MAAO,SAAQ,MAAM,GAAG,SAAS,iBAAiB,CAAC;AACvD;AAAA,IACF;AAEA,UAAM,YAAY,CAAC;AAEnB,UAAM,gBAAgB,CAAC,OAAO;AAC5B,YAAM,kBAAmB,OAAO,8BAA8B,OAAO,MAClE,OAAO,UAAU,OAAO,OAAO,8BAA8B,OAAO,MACpE,KAAK,aAAa,iBAAiB,MAAM;AAE5C,UAAI,mBAAmB,IAAI;AACzB,YAAI,MAAO,SAAQ,IAAI,GAAG,SAAS,kDAAkD;AACrF,YAAI,GAAG,eAAe;AACpB,gBAAM,KAAK,GAAG;AACd,cAAI,GAAG,OAAQ,GAAG,QAAQ,GAAG,KAAK,OAAQ;AACxC,gBAAI,MAAO,SAAQ,IAAI,GAAG,SAAS,yCAAyC;AAC5E,iBAAK,OAAO,IAAI,EAAE,UAAU,EAAE,GAAG;AAAA,cAC/B,UAAU;AAAA,cACV,UAAU;AAAA,cACV,MAAM;AAAA,YACR,CAAC;AAAA,UACH,OAAO;AACL,eAAG,QAAQ;AACX,eAAG,QAAQ,IAAI;AAAA,UACjB;AAAA,QACF,OAAO;AACL,aAAG,QAAQ,IAAI;AAAA,QACjB;AAAA,MACF;AAAA,IACF;AAEA,UAAM,UAAU,wBAAwB,MAAM,QAAQ,CAAC,cAAc,UAAU;AAC7E,YAAM,kBAAkB,aAAa,QAAQ,eAAe;AAE5D,UAAI,CAAC,gBAAgB,SAAS,gBAAgB,MAAM,WAAW,GAAG;AAChE,eAAO;AAAA,MACT;AAEA,gBAAU,WAAW,MAAM,IAAI,IAAI,YAAY;AAC/C,YAAM,KAAK,eAAe,MAAM,iBAAiB,QAAQ,OAAO,YAAY,IAAI,MAAM,IAAI,KAAK,IAAI;AAEnG,UAAI,IAAI;AACN,kBAAU,KAAK,EAAE;AACjB,sBAAc,EAAE;AAAA,MAClB;AACA,aAAO;AAAA,IACT,GAAG,IAAI;AAEP,WAAO,MAAM;AACX,UAAI,MAAO,SAAQ,IAAI,GAAG,SAAS,iBAAiB;AACpD,cAAQ;AACR,gBAAU,QAAQ,OAAK;AACrB,YAAI,EAAE,eAAe;AACnB,YAAE,cAAc,KAAK,IAAI;AAAA,QAC3B;AACA,UAAE,KAAK;AAAA,MACT,CAAC;AAAA,IACH;AAAA,EACF,CAAC;;;ACxMD;AAYA,MAAM,QAAQ,CAAC,GAAC,YAAO,wBAAP,mBAA4B;AAC5C,MAAM,MAAM,IAAI,SAAS,SAAS,QAAQ,IAAI,gBAAgB,GAAG,IAAI;AAErE,MAAM,gBAAgB,oBAAI,IAAI;AAM9B,WAAS,eAAe,UAAU,cAAc,MAAM;AAClD,QAAI,cAAc,IAAI,QAAQ,GAAG;AAC7B,YAAM,EAAE,OAAO,SAAS,IAAI,cAAc,IAAI,QAAQ;AACtD,UAAI,oCAAoC,QAAQ,EAAE;AAElD,UAAI,OAAO;AACP,YAAI,MAAM,eAAe;AACrB,gBAAM,cAAc,KAAK,IAAI;AAAA,QACjC;AACA,cAAM,SAAS,CAAC;AAChB,cAAM,KAAK;AAAA,MACf;AAEA,UAAI,YAAY,SAAS,QAAQ;AAC7B,cAAM,OAAO,QAAQ;AACrB,YAAI,MAAM;AACN,eAAK,IAAI,UAAU,EAAE,YAAY,MAAM,CAAC;AAAA,QAC5C;AAAA,MACJ;AAEA,oBAAc,OAAO,QAAQ;AAAA,IACjC;AAEA,QAAI,aAAa;AACb,qBAAe,UAAU,KAAK;AAC9B,UAAI,6BAA6B,QAAQ,EAAE;AAAA,IAC/C;AAAA,EACJ;AAEA,WAAS,gBAAgB,MAAM,YAAY,QAAQ;AAlDnD,QAAAC,KAAAC,KAAA;AAmDI,UAAM,OAAO,QAAQ;AACrB,QAAI,CAAC,MAAM;AACP,cAAQ,MAAM,iCAAiC;AAC/C,aAAO;AAAA,IACX;AAEA,UAAM,eAAe,OAAO,UAAU,CAAC;AACvC,QAAI,WAAW,CAAC;AAEhB,QAAI,aAAa,SAAS,WAAW;AACjC,iBAAW,CAAC,IAAI;AAAA,IACpB,WAAW,aAAa,UAAU;AAC9B,iBAAW,KAAK,iBAAiB,aAAa,QAAQ;AAAA,IAC1D,OAAO;AACH,iBAAW,CAAC,IAAI;AAAA,IACpB;AAEA,QAAI,CAAC,SAAS,QAAQ;AAClB,UAAI,0BAA0B;AAC9B,aAAO;AAAA,IACX;AAEA,UAAM,SAAS,WAAW,UAAU;AACpC,QAAI,QAAQ;AAEZ,QAAI,WAAW,SAAS,OAAO,WAAW;AACtC,UAAI;AACA,cAAM,gBAAgB,WAAW,MAAM,YAAY;AACnD,cAAM,iBAAgBD,MAAA,SAAS,CAAC,MAAV,gBAAAA,IAAa;AACnC,cAAM,gBAAeC,MAAA,SAAS,CAAC,MAAV,gBAAAA,IAAa;AAElC,cAAM,cAAc,iBAAiB;AACrC,cAAM,iBAAiB,oBAAkB,mBAAc,UAAd,mBAAqB,aAAU,mBAAc,UAAd,mBAAqB,aAAU,mBAAc,UAAd,mBAAqB;AAE5H,YAAI,kBAAkB,aAAa;AAC/B,cAAI,qCAAqC,YAAY,GAAG;AACxD,kBAAQ;AAAA,QACZ,OAAO;AACH,cAAI,eAAe;AACf,gBAAI,kBAAkB,YAAY,OAAO,aAAa,+BAA+B;AACrF,0BAAc,OAAO;AAAA,UACzB,OAAO;AACH,gBAAI,uCAAuC,aAAa;AAAA,UAC5D;AAEA,kBAAQ,IAAI,UAAU,UAAU,EAAE,MAAM,cAAc,CAAC;AAEvD,cAAI,qBAAqB;AAAA,YACrB,SAAO,WAAM,UAAN,mBAAa,WAAU;AAAA,YAC9B,SAAO,WAAM,UAAN,mBAAa,WAAU;AAAA,YAC9B,SAAO,WAAM,UAAN,mBAAa,WAAU;AAAA,UAClC,CAAC;AAED,mBAAS,QAAQ,QAAM;AACnB,eAAG,aAAa;AAChB,eAAG,iBAAiB;AAAA,UACxB,CAAC;AAAA,QACL;AAEA,YAAI,cAAc,SAAS,MAAM,KAAK,MAAM,SAAS,MAAM,MAAM,SAAS,GAAG;AACzE,qBAAW,MAAM;AAAA,QACrB,WAAW,cAAc,SAAS,MAAM,KAAK,MAAM,SAAS,MAAM,MAAM,SAAS,GAAG;AAChF,qBAAW,MAAM;AAAA,QACrB,WAAW,cAAc,SAAS,MAAM,KAAK,MAAM,SAAS,MAAM,MAAM,SAAS,GAAG;AAChF,qBAAW,MAAM;AAAA,QACrB;AAEA,YAAI,cAAc,SAAS,MAAM,oBAAoB,aAAa,GAAG;AAErE,YAAI,SAAS,SAAS,GAAG;AACrB,eAAK,IAAI,UAAU,EAAE,SAAS,eAAe,CAAC;AAAA,QAClD;AAAA,MACJ,SAAS,GAAG;AACR,gBAAQ,KAAK,iCAAiC,CAAC;AAAA,MACnD;AAAA,IACJ;AAEA,UAAM,OAAO,YAAY,EAAE,GAAG,WAAW,KAAK,GAAG,SAAS,CAAC,CAAC;AAC5D,UAAM,QAAQ,WAAW,QAAQ,YAAY,EAAE,GAAG,WAAW,MAAM,GAAG,SAAS,CAAC,CAAC,IAAI;AAErF,SAAK,IAAI,UAAU;AAAA,MACf,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,OAAO;AAAA,IACX,CAAC;AAED,WAAO,KAAK;AACZ,QAAI,MAAO,QAAO,MAAM;AAExB,QAAI,WAAW,UAAU,KAAK,oBAAoB,QAAW;AACzD,WAAK,kBAAkB;AAAA,IAC3B;AAEA,QAAI,YAAY,MAAM,cAAc,SAAS,MAAM,WAAW;AAE9D,QAAI;AACJ,QAAI,WAAW,YAAY,OAAO;AAC9B,cAAQ,KAAK,OAAO,UAAU,MAAM,KAAK;AAAA,IAC7C,WAAW,OAAO,KAAK,MAAM,MAAM,YAAY;AAC3C,cAAQ,KAAK,MAAM,EAAE,UAAU,IAAI;AAAA,IACvC;AAEA,QAAI,UAAU,WAAW,UAAU,WAAW,WAAW;AACrD,YAAM,SAAS,CAAC,EAAE,SAAS,CAAC;AAAA,IAChC;AAEA,WAAO,EAAE,OAAO,SAAS;AAAA,EAC7B;AAQA,WAAS,UAAU,UAAU,QAAQ,YAAY;AAC7C,QAAI,6BAA6B,QAAQ,gBAAgB,UAAU,EAAE;AAErE,mBAAe,UAAU,IAAI;AAC7B,QAAI,6BAA6B,QAAQ,EAAE;AAE3C,UAAM,OAAO,SAAS,cAAc,aAAa,QAAQ,IAAI;AAC7D,QAAI,CAAC,MAAM;AACP,cAAQ,MAAM,uBAAuB,QAAQ,mBAAmB;AAChE,qBAAe,UAAU,KAAK;AAC9B,aAAO;AAAA,IACX;AAEA,mBAAe,UAAU,KAAK;AAE9B,UAAM,SAAS,oBAAoB;AACnC,QAAI,cAAc,OAAO,KAAK,OAAK,EAAE,SAAS,UAAU;AACxD,QAAI,CAAC,eAAe,eAAe,WAAW;AAC1C,oBAAc,OAAO,KAAK,OAAK,EAAE,SAAS,kBAAkB;AAAA,IAChE;AAEA,QAAI,CAAC,aAAa;AACd,oBAAc,OAAO,CAAC;AAAA,IAC1B;AAEA,UAAM,eAAe,2BAA2B,QAAQ,WAAW;AACnE,QAAI,CAAC,cAAc;AACf,UAAI,oCAAoC,UAAU;AAClD,qBAAe,UAAU,KAAK;AAC9B,aAAO;AAAA,IACX;AAEA,QAAI,kBAAkB,YAAY;AAElC,UAAM,SAAS,gBAAgB,MAAM,cAAc,MAAM;AACzD,QAAI,CAAC,UAAU,CAAC,OAAO,OAAO;AAC1B,UAAI,4BAA4B;AAChC,qBAAe,UAAU,KAAK;AAC9B,aAAO;AAAA,IACX;AAEA,kBAAc,IAAI,UAAU,MAAM;AAElC,UAAM,qBAAqB,OAAO,MAAM,KAAK;AAC7C,WAAO,MAAM,KAAK,aAAa,WAAY;AACvC,UAAI,mCAAmC,QAAQ,EAAE;AACjD,UAAI,mBAAoB,oBAAmB,MAAM,MAAM,SAAS;AAEhE,iBAAW,MAAM;AACb,uBAAe,UAAU,KAAK;AAC9B,YAAI,6BAA6B,QAAQ,EAAE;AAAA,MAC/C,GAAG,GAAI;AAAA,IACX;AAEA,QAAI,mBAAmB;AACvB,WAAO,MAAM,QAAQ,IAAI;AAEzB,WAAO;AAAA,EACX;AAEA,WAAS,qBAAqB;AAC1B,QAAI,6BAA6B,cAAc,IAAI,UAAU;AAC7D,eAAW,YAAY,cAAc,KAAK,GAAG;AACzC,qBAAe,UAAU,IAAI;AAAA,IACjC;AAAA,EACJ;AAEA,SAAO,YAAY;AACnB,SAAO,mBAAmB;AAC1B,SAAO,sBAAsB;AAE7B,MAAI,gCAAgC;;;ACpOpC,MAAI,gBAAgB;AAEb,WAAS,iBAAiB,UAAU,CAAC,GAAG;AAZ/C,QAAAC;AAaI,QAAI,OAAO,OAAO,UAAU,aAAa;AACrC,cAAQ,KAAK,8DAA8D;AAC3E,aAAO;AAAA,IACX;AAEA,QAAI,eAAe;AACf,cAAQ,IAAI,yEAAyE;AACrF,aAAO;AAAA,IACX;AAEA,UAAM,iBAAiB;AAAA,MACnB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,aAAa;AAAA,MACb,aAAa;AAAA,MACb,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,UAAU;AAAA,IACd;AAEA,UAAM,eAAe,EAAE,GAAG,gBAAgB,GAAG,QAAQ;AAErD,QAAI;AACA,sBAAgB,IAAI,OAAO,MAAM,YAAY;AAE7C,UAAI,OAAO,MAAM;AACb,eAAO,KAAK,OAAO,IAAI,CAAC,SAAS;AAC7B,wBAAc,IAAI,OAAO,GAAI;AAAA,QACjC,CAAC;AAED,eAAO,KAAK,OAAO,aAAa,CAAC;AAAA,MACrC;AAEA,UAAI,OAAO,eAAe;AACtB,sBAAc,GAAG,UAAU,OAAO,cAAc,MAAM;AAEtD,eAAO,iBAAiB,UAAU,MAAM;AACpC,iBAAO,cAAc,QAAQ;AAAA,QACjC,CAAC;AAAA,MACL;AAEA,WAAIA,MAAA,OAAO,wBAAP,gBAAAA,IAA4B,OAAO;AACnC,gBAAQ,IAAI,mDAAmD,YAAY;AAAA,MAC/E;AAEA,aAAO;AAAA,IACX,SAAS,OAAO;AACZ,cAAQ,MAAM,+CAA+C,KAAK;AAClE,aAAO;AAAA,IACX;AAAA,EACJ;AAEO,WAAS,sBAAsB;AAjEtC,QAAAA;AAkEI,QAAI,eAAe;AACf,oBAAc,QAAQ;AACtB,sBAAgB;AAChB,WAAIA,MAAA,OAAO,wBAAP,gBAAAA,IAA4B,OAAO;AACnC,gBAAQ,IAAI,iCAAiC;AAAA,MACjD;AAAA,IACJ;AAAA,EACJ;AAEO,WAAS,mBAAmB;AAC/B,WAAO;AAAA,EACX;AAEO,WAAS,oBAAoB;AAChC,QAAI,eAAe;AACf,oBAAc,KAAK;AAAA,IACvB;AAAA,EACJ;AAEO,WAAS,qBAAqB;AACjC,QAAI,eAAe;AACf,oBAAc,MAAM;AAAA,IACxB;AAAA,EACJ;AAEO,WAAS,SAAS,QAAQ,UAAU,CAAC,GAAG;AAC3C,QAAI,eAAe;AACf,oBAAc,SAAS,QAAQ;AAAA,QAC3B,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,QAAQ,CAAC,MAAM,KAAK,IAAI,GAAG,QAAQ,KAAK,IAAI,GAAG,MAAM,CAAC,CAAC;AAAA;AAAA,QACvD,GAAG;AAAA,MACP,CAAC;AAAA,IACL;AAAA,EACJ;AApGA,MAAAA,KAAA;AAsGA,MAAI,OAAO,WAAW,aAAa;AAC/B,UAAM,cAAa,MAAAA,MAAA,OAAO,wBAAP,gBAAAA,IAA4B,iBAA5B,mBAA0C;AAE7D,QAAI,YAAY;AACZ,YAAMC,QAAO,MAAM;AA1G3B,YAAAD,KAAAE;AA2GY,cAAM,YAAUA,OAAAF,MAAA,OAAO,wBAAP,gBAAAA,IAA4B,iBAA5B,gBAAAE,IAA0C,YAAW,CAAC;AACtE,yBAAiB,OAAO;AAAA,MAC5B;AAEA,UAAI,SAAS,eAAe,WAAW;AACnC,iBAAS,iBAAiB,oBAAoBD,KAAI;AAAA,MACtD,OAAO;AACH,mBAAWA,OAAM,GAAG;AAAA,MACxB;AAAA,IACJ;AAAA,EACJ;AACA,MAAI,OAAO,WAAW,aAAa;AAC/B,WAAO,sBAAsB;AAAA,MACzB,MAAM;AAAA,MACN,SAAS;AAAA,MACT,aAAa;AAAA,MACb,OAAO;AAAA,MACP,QAAQ;AAAA,MACR;AAAA,IACJ;AAAA,EACJ;;;ACxHA,WAAS,OAAO;AACd,uBAAmB,QAAQ;AAAA,EAC7B;AAGA,MAAI,SAAS,eAAe,WAAW;AACrC,aAAS,iBAAiB,oBAAoB,IAAI;AAAA,EACpD,OAAO;AACL,SAAK;AAAA,EACP;AAGA,SAAO,iBAAiB,QAAQ,MAAM;AACpC,UAAM,KAAK,iBAAiB;AAC5B,QAAI,CAAC,GAAI;AAET,QAAI,OAAO,SAAS,MAAM;AACxB,SAAG,kBAAkB;AACrB,iBAAW,MAAM,GAAG,QAAQ,IAAI,GAAG,GAAG;AAAA,IACxC,OAAO;AAEL,4BAAsB,MAAM,GAAG,QAAQ,CAAC;AAAA,IAC1C;AAAA,EACF,CAAC;AAED,SAAO,iBAAiB,YAAY,CAAC,MAAM;AACzC,QAAI,EAAE,WAAW;AACf,YAAM,KAAK,iBAAiB;AAC5B,UAAI,IAAI;AACN,WAAG,kBAAkB;AACrB,WAAG,QAAQ,IAAI;AAAA,MACjB;AAAA,IACF;AAAA,EACF,CAAC;AAxCD,MAAAE;AA0CA,OAAIA,MAAA,SAAS,UAAT,gBAAAA,IAAgB,OAAO;AACzB,aAAS,MAAM,MAAM,KAAK,MAAM;AAC9B,YAAM,KAAK,iBAAiB;AAC5B,UAAI,GAAI,IAAG,QAAQ;AAAA,IACrB,CAAC;AAAA,EACH;AAEA,SAAO,iBAAiB,wBAAwB,CAAC,MAAM;AACrD,uBAAmB,EAAE,MAAM;AAC3B,UAAM,KAAK,iBAAiB;AAC5B,QAAI,GAAI,IAAG,QAAQ;AAAA,EACrB,CAAC;AAED,MAAM,gBAAgB,MAAM;AAC1B,QAAI,WAAW;AAEf,UAAM,cAAc,MAAM;AA1D5B,UAAAA;AA2DI,UAAI,GAACA,MAAA,OAAO,sBAAP,gBAAAA,IAA0B,QAAO;AACpC,YAAI,EAAE,WAAW,IAAI;AACnB,qBAAW,aAAa,GAAG;AAAA,QAC7B;AACA;AAAA,MACF;AAEA,UAAI;AACJ,YAAM,mBAAmB,MAAM;AAC7B,qBAAa,cAAc;AAC3B,yBAAiB,WAAW,MAAM;AAChC,gBAAM,KAAK,iBAAiB;AAC5B,cAAI,GAAI,IAAG,QAAQ;AAAA,QACrB,GAAG,GAAG;AAAA,MACR;AAEA,wBAAkB,MAAM,UAAU,iCAAiC,CAAC,WAAW;AA3EnF,YAAAA;AA4EM,cAAM,OAAO,OAAO,CAAC;AACrB,YAAI,CAAC,KAAM;AAEX,YAAI,kBAAkB,WAAW,GAAG;AAClC,gBAAM,WAAW,KAAK,aAAa,SAAS;AAC5C,cAAI,SAAU,uBAAsB,QAAQ;AAE5C,gBAAM,sBAAsB,CAAC,OAAO;AAnF5C,gBAAAA,KAAAC;AAoFU,gBAAI;AACF,kBAAI,OAAO,8BAA8B,GAAI,QAAO;AACpD,oBAAID,MAAA,OAAO,WAAP,gBAAAA,IAAe,+BAA8B,GAAI,QAAO;AAC5D,oBAAIC,MAAA,OAAO,QAAP,gBAAAA,IAAY,+BAA8B,GAAI,QAAO;AACzD,kBAAI,eAAe,QAAQ,kBAAkB,MAAM,GAAI,QAAO;AAAA,YAChE,SAAS,GAAG;AAAA,YAAE;AACd,mBAAO;AAAA,UACT;AAEA,gBAAM,YAAY,CAAC,GAACD,MAAA,OAAO,wBAAP,gBAAAA,IAA4B;AAChD,gBAAM,kBAAkB,KAAK,aAAa,iBAAiB,MAAM,SAAS,oBAAoB,QAAQ;AAEtG,cAAI,CAAC,aAAa,CAAC,gBAAiB;AAEpC,cAAI,iBAAiB;AACnB,uBAAW,MAAM;AAnG3B,kBAAAA,KAAAC;AAoGY,kBAAI,OAAO,8BAA8B,SAAU,QAAO,4BAA4B;AACtF,oBAAID,MAAA,OAAO,WAAP,gBAAAA,IAAe,+BAA8B,SAAU,QAAO,OAAO,4BAA4B;AACrG,oBAAIC,MAAA,OAAO,QAAP,gBAAAA,IAAY,+BAA8B,SAAU,QAAO,IAAI,4BAA4B;AAC/F,6BAAe,WAAW,kBAAkB;AAAA,YAC9C,GAAG,GAAG;AAAA,UACR;AAAA,QACF;AAEA,2BAAmB,MAAM,kBAAkB,WAAW,CAAC;AAEvD,YAAI,kBAAkB,WAAW,GAAG;AAClC,2BAAiB;AAAA,QACnB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,gBAAY;AAAA,EACd;AAEA,gBAAc;AACd,SAAO,iBAAiB,2BAA2B,aAAa;AAEhE,WAAS,sBAAsB,UAAU;AACvC,QAAI;AACF,YAAM,KAAK,iBAAiB;AAC5B,UAAI,CAAC,GAAI;AAET,YAAM,KAAK,GAAG,QAAQ,QAAQ,QAAQ;AACtC,UAAI,GAAI,IAAG,KAAK,IAAI;AAAA,IACtB,SAAS,GAAG;AAAA,IAAE;AAAA,EAChB;",
  "names": ["_a", "_b", "_a", "_a", "_b", "_a", "_b", "_a", "_a", "_b", "_a", "init", "_b", "_a", "_b"]
}
