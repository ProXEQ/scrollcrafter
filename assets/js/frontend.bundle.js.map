{
  "version": 3,
  "sources": ["../src/frontend/core/registry.js", "../src/frontend/core/gsap-loader.js", "../src/frontend/widgets/scroll-animation.js", "../src/frontend/widgets/scroll-timeline.js", "../src/frontend/index.js"],
  "sourcesContent": ["// registry.js\nconst registry = {};\n\n// WeakSet jest idealny do \u015Bledzenia obiekt\u00F3w DOM bez wyciek\u00F3w pami\u0119ci.\n// Gdy element zniknie z DOM, zniknie te\u017C z tego Setu.\nconst initializedNodes = new WeakSet();\n\nexport function registerWidget(type, initFn) {\n  registry[type] = initFn;\n}\n\nexport function initWidgetsInScope(root = document) {\n  if (!root || !root.querySelectorAll) {\n    return;\n  }\n\n  // Pobieramy tylko te, kt\u00F3re maj\u0105 konfiguracj\u0119\n  const nodes = root.querySelectorAll('[data-scrollcrafter-config]');\n  \n  nodes.forEach((node) => {\n    // 1. Zabezpieczenie przed podw\u00F3jn\u0105 inicjalizacj\u0105\n    if (initializedNodes.has(node)) {\n        // Opcjonalnie: mo\u017Cna sprawdzi\u0107 czy config si\u0119 zmieni\u0142, ale w WP zazwyczaj\n        // zmiana configu wi\u0105\u017Ce si\u0119 z wymian\u0105 ca\u0142ego w\u0119z\u0142a DOM, wi\u0119c to wystarczy.\n        return;\n    }\n\n    const raw = node.getAttribute('data-scrollcrafter-config');\n    if (!raw) return;\n\n    let config;\n    try {\n      config = JSON.parse(raw);\n    } catch (e) {\n      if (window.ScrollCrafterConfig?.debug) {\n        console.warn('[ScrollCrafter] Invalid config JSON:', e, node);\n      }\n      return;\n    }\n\n    const type = config.widget;\n    if (!type || typeof registry[type] !== 'function') {\n      return;\n    }\n\n    try {\n      // 2. Uruchomienie widgetu\n      registry[type](node, config);\n      \n      // 3. Oznaczenie jako zainicjalizowany\n      initializedNodes.add(node);\n\n      // 4. Dispatch eventu\n      node.dispatchEvent(\n        new CustomEvent('scrollcrafter:init', {\n          bubbles: true,\n          detail: { type, config },\n        }),\n      );\n    } catch (e) {\n      console.error(`[ScrollCrafter] Init error for \"${type}\":`, e);\n    }\n  });\n}\n", "// gsap-loader.js\nexport function getGsap() {\n  if (typeof window === 'undefined') return null;\n\n  const { gsap } = window;\n  \n  if (!gsap) {\n    // Zamiast crashowa\u0107 aplikacj\u0119, logujemy b\u0142\u0105d i zwracamy null.\n    // Wywo\u0142uj\u0105cy musi sprawdzi\u0107 if (!gsap) return;\n    console.error('[ScrollCrafter] GSAP core not found! Make sure gsap.min.js is loaded.');\n    return null;\n  }\n\n  // Auto-rejestracja ScrollTriggera, je\u015Bli jest dost\u0119pny globalnie\n  if (window.ScrollTrigger && gsap.registerPlugin) {\n    // Sprawd\u017A, czy ju\u017C nie jest zarejestrowany, aby unikn\u0105\u0107 ostrze\u017Ce\u0144 GSAP\n    try {\n        gsap.registerPlugin(window.ScrollTrigger);\n    } catch (e) {\n        // Ignorujemy b\u0142\u0119dy rejestracji (np. wersje niekompatybilne)\n    }\n  }\n\n  return gsap;\n}\n\nexport function getScrollTrigger() {\n  if (typeof window === 'undefined') return null;\n\n  if (!window.ScrollTrigger) {\n    console.warn('[ScrollCrafter] ScrollTrigger not found! Animations may not work.');\n    return null;\n  }\n\n  return window.ScrollTrigger;\n}\n", "import { registerWidget } from '../core/registry';\nimport { getGsap, getScrollTrigger } from '../core/gsap-loader';\n\nregisterWidget('scroll_animation', (node, config) => {\n  const debug = !!window.ScrollCrafterConfig?.debug;\n  const logPrefix = `[ScrollCrafter][${config.id || 'unknown'}]`;\n\n  let gsap;\n  try {\n    gsap = getGsap();\n    getScrollTrigger(); // Upewniamy si\u0119, \u017Ce plugin jest zarejestrowany\n  } catch (e) {\n    if (debug) console.error(`${logPrefix} GSAP missing`, e);\n    return;\n  }\n\n  // 1. Rozwi\u0105zywanie target\u00F3w (element\u00F3w do animacji)\n  const targetConfig = config.target || {};\n  let elements = [];\n\n  if (targetConfig.type === 'wrapper') {\n    elements = [node];\n  } else if (targetConfig.selector) {\n    elements = node.querySelectorAll(targetConfig.selector);\n  }\n\n  if (!elements.length) {\n    if (debug) console.warn(`${logPrefix} No elements found for selector:`, targetConfig.selector);\n    return;\n  }\n\n  // 2. Pobranie konfiguracji z nowego JSON (zoptymalizowanego w PHP)\n  const animConfig = config.animation || {};\n  const method = animConfig.method || 'from'; // 'to', 'from', 'fromTo', 'set'\n  \n  // Obiekt vars (zawiera CSS props, duration, ease ORAZ scrollTrigger w \u015Brodku)\n  const vars = { ...animConfig.vars }; \n  const vars2 = animConfig.vars2 ? { ...animConfig.vars2 } : null;\n\n  // 3. Naprawa ScrollTrigger Trigger Element\n  // W PHP wrzucili\u015Bmy scrollTrigger do vars, ale nie ustawili\u015Bmy w\u0142a\u015Bciwo\u015Bci 'trigger'.\n  // JS musi ustawi\u0107 trigger na element widgetu (node), chyba \u017Ce user ustawi\u0142 inaczej.\n  \n  if (vars.scrollTrigger) {\n    vars.scrollTrigger.trigger = node; // Domy\u015Blnie triggerem jest kontener widgetu\n    \n    // Obs\u0142uga ID dla debugowania (sc-xyz)\n    if (config.id) {\n        vars.scrollTrigger.id = 'sc-' + config.id;\n    }\n  }\n  \n  if (vars2 && vars2.scrollTrigger) {\n    vars2.scrollTrigger.trigger = node;\n    if (config.id) {\n        vars2.scrollTrigger.id = 'sc-' + config.id;\n    }\n  }\n\n  // 4. Uruchomienie animacji\n  try {\n    if (method === 'fromTo' && vars2) {\n      gsap.fromTo(elements, vars, vars2);\n    } else if (typeof gsap[method] === 'function') {\n      gsap[method](elements, vars);\n    } else {\n      console.warn(`${logPrefix} Unknown GSAP method:`, method);\n    }\n  } catch (e) {\n    if (debug) console.error(`${logPrefix} Animation error`, e);\n  }\n});\n", "import { registerWidget } from '../core/registry';\nimport { getGsap, getScrollTrigger } from '../core/gsap-loader';\n\n/**\n * Minimalny helper: makra na function-based values.\n * Nie pr\u00F3buje zgadywa\u0107 layoutu \u2013 u\u017Cywa wy\u0142\u0105cznie contextNode,\n * kt\u00F3ry jest wrapperem widgetu (node).\n */\nfunction parseMacros(vars, contextNode) {\n  if (!vars || typeof vars !== 'object') return vars;\n\n  const out = { ...vars };\n\n  Object.keys(out).forEach((key) => {\n    const val = out[key];\n\n    if (val && typeof val === 'object' && !Array.isArray(val)) {\n      out[key] = parseMacros(val, contextNode);\n      return;\n    }\n\n    if (typeof val === 'string') {\n      if (val === 'calc_100vh') {\n        out[key] = () => window.innerHeight;\n      } else if (val === 'calc_100vw') {\n        out[key] = () => window.innerWidth;\n      } else if (val === 'calc_scroll_width') {\n        out[key] = () => {\n          const el = contextNode;\n          return el.scrollWidth - el.clientWidth;\n        };\n      } else if (val === 'calc_scroll_width_neg' || val === 'calc_horizontal_scroll') {\n        out[key] = () => {\n          const el = contextNode;\n          if (el.scrollWidth <= el.clientWidth) return 0;\n          return -(el.scrollWidth - el.clientWidth);\n        };\n      }\n    }\n  });\n\n  return out;\n}\n\n/**\n * Neutralny wyb\u00F3r elementu do pina:\n * pinujemy dok\u0142adnie w\u0119ze\u0142, kt\u00F3ry ma data-scrollcrafter-config.\n */\nfunction getPinElement(node) {\n  return node;\n}\n\nregisterWidget('scroll_timeline', (node, config) => {\n  const debug = !!window.ScrollCrafterConfig?.debug;\n  const logPrefix = `[ScrollCrafter][timeline:${config.id || 'unknown'}]`;\n\n  let gsap;\n  let ScrollTrigger;\n  try {\n    gsap = getGsap();\n    ScrollTrigger = getScrollTrigger();\n  } catch (e) {\n    if (debug) console.error(`${logPrefix} GSAP/ScrollTrigger missing`, e);\n    return;\n  }\n\n  const pinElem = getPinElement(node);\n\n  // --- TARGETY ---\n  const targetCfg = config.target || {};\n  let mainTargets = [pinElem];\n\n  if (targetCfg.selector && targetCfg.type !== 'wrapper') {\n    const found = pinElem.querySelectorAll(targetCfg.selector);\n    if (found.length) {\n      mainTargets = Array.from(found);\n    }\n  }\n\n  // --- TIMELINE VARS ---\n  const timelineVars = { ...(config.timelineVars || {}) };\n\n  // Defaults (duration, ease, itp.)\n  if (timelineVars.defaults) {\n    timelineVars.defaults = parseMacros(timelineVars.defaults, pinElem);\n  }\n\n  // ScrollTrigger \u2013 bez zgadywania, u\u017Cywamy tego, co da\u0142 backend.\n  if (!timelineVars.scrollTrigger) {\n    timelineVars.scrollTrigger = {};\n  }\n\n  const st = timelineVars.scrollTrigger;\n\n  if (!st.trigger) {\n    st.trigger = pinElem;\n  }\n  if (st.pin === true) {\n    st.pin = pinElem;\n  }\n\n  // Minimalne anty-glitche, ale neutralne:\n  if (typeof st.invalidateOnRefresh === 'undefined') {\n    st.invalidateOnRefresh = true;\n  }\n  if (typeof st.anticipatePin === 'undefined') {\n    st.anticipatePin = 0.5;\n  }\n\n  if (config.id && !st.id) {\n    st.id = `sc-${config.id}`;\n  }\n\n  // \u017BADNYCH auto-end, fastScrollEnd, scroller=window \u2013 u\u017Cytkownik kontroluje to w DSL.\n\n  const tl = gsap.timeline(timelineVars);\n\n  const steps = config.steps || [];\n\n  steps.forEach((step, index) => {\n    const method = step.method || 'to';\n    const position = step.position;\n\n    if (method === 'addLabel') {\n      const label = step.vars;\n      if (typeof label === 'string') tl.addLabel(label, position);\n      return;\n    }\n\n    if (method === 'call') {\n      return;\n    }\n\n    let targets = mainTargets;\n\n    if (step.selector) {\n      const found = pinElem.querySelectorAll(step.selector);\n      if (!found.length) {\n        if (debug) {\n          console.warn(\n            `${logPrefix} Step ${index + 1}: selector \"${step.selector}\" not found in`,\n            pinElem\n          );\n        }\n        return;\n      }\n      targets = Array.from(found);\n    }\n\n    const vars = parseMacros(step.vars || {}, pinElem);\n    const vars2 = step.vars2 ? parseMacros(step.vars2, pinElem) : null;\n\n    try {\n      if (method === 'fromTo' && vars2) {\n        tl.fromTo(targets, vars, vars2, position);\n      } else if (typeof tl[method] === 'function') {\n        tl[method](targets, vars, position);\n      } else if (debug) {\n        console.warn(`${logPrefix} Unknown method \"${method}\"`);\n      }\n    } catch (e) {\n      if (debug) console.error(`${logPrefix} Error in step ${index + 1}`, e);\n    }\n  });\n});\n", "import { initWidgetsInScope } from './core/registry';\nimport { getScrollTrigger } from './core/gsap-loader';\nimport './widgets/scroll-animation';\nimport './widgets/scroll-timeline';\n\n/**\n * G\u0142\u00F3wna funkcja inicjalizuj\u0105ca.\n */\nfunction init() {\n  // Inicjalizuj wszystko co jest w dokumencie na starcie\n  initWidgetsInScope(document);\n}\n\n// 1. Standardowy start na froncie\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n\n// 2. Obs\u0142uga Popup\u00F3w Elementora\nwindow.addEventListener('elementor/popup/show', (event) => {\n  initWidgetsInScope(event.target);\n  \n  // Wymu\u015B od\u015Bwie\u017Cenie po otwarciu popupu, bo wymiary element\u00F3w si\u0119 zmieni\u0142y\n  const ScrollTrigger = getScrollTrigger();\n  if (ScrollTrigger) ScrollTrigger.refresh();\n});\n\n// 3. Obs\u0142uga Edytora i Live Preview (Elementor)\nwindow.addEventListener('elementor/frontend/init', () => {\n  if (!window.elementorFrontend) return;\n\n  // Nas\u0142uchuj na renderowanie dowolnego elementu\n  elementorFrontend.hooks.addAction('frontend/element_ready/global', ($scope) => {\n    const node = $scope[0]; \n\n    if (elementorFrontend.isEditMode()) {\n      // Optymalizacja: Czy\u015Bcimy tylko trigger zwi\u0105zany z tym konkretnym widgetem\n      const widgetId = node.getAttribute('data-id');\n      if (widgetId) {\n        killTriggerByWidgetId(widgetId);\n      }\n    }\n\n    initWidgetsInScope(node);\n  });\n});\n\n/**\n * Zabija konkretn\u0105 instancj\u0119 ScrollTrigger na podstawie ID widgetu.\n * Jest to O(1) zamiast O(n) w por\u00F3wnaniu do skanowania ca\u0142ej listy.\n */\nfunction killTriggerByWidgetId(widgetId) {\n  try {\n    const ScrollTrigger = getScrollTrigger();\n    if (!ScrollTrigger) return;\n\n    // Pobieramy trigger po ID (ustawionym w Animation_Render.php jako 'sc-' + widgetId)\n    const triggerId = 'sc-' + widgetId;\n    const st = ScrollTrigger.getById(triggerId);\n\n    if (st) {\n      if (window.ScrollCrafterConfig?.debug) {\n        console.log(`[ScrollCrafter] Killing trigger: ${triggerId}`);\n      }\n      st.kill(true); // true = revert styles\n    }\n    \n  } catch (e) {\n    console.warn('[ScrollCrafter] Error killing trigger:', e);\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
