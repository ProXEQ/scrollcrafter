{
  "version": 3,
  "sources": ["../src/frontend/core/registry.js", "../src/frontend/core/gsap-loader.js", "../src/frontend/widgets/scroll-animation.js", "../src/frontend/widgets/scroll-timeline.js", "../src/frontend/index.js"],
  "sourcesContent": ["// registry.js\nconst registry = {};\n\nexport function registerWidget(type, initFn) {\n  registry[type] = initFn;\n}\n\nexport function initWidgetsInScope(root = document) {\n  if (!root || !root.querySelectorAll) {\n    return;\n  }\n\n  const nodes = root.querySelectorAll('[data-scrollcrafter-config]');\n  nodes.forEach((node) => {\n    const raw = node.getAttribute('data-scrollcrafter-config');\n    if (!raw) return;\n\n    let config;\n    try {\n      config = JSON.parse(raw);\n    } catch (e) {\n      if (window.ScrollCrafterConfig?.debug) {\n        // eslint-disable-next-line no-console\n        console.warn('ScrollCrafter: invalid config JSON', e);\n      }\n      return;\n    }\n\n    const type = config.widget;\n    if (!type || typeof registry[type] !== 'function') {\n      return;\n    }\n\n    try {\n      registry[type](node, config);\n      document.dispatchEvent(\n        new CustomEvent('scrollcrafter:widget_init', {\n          detail: { type, node, config },\n        }),\n      );\n    } catch (e) {\n      if (window.ScrollCrafterConfig?.debug) {\n        // eslint-disable-next-line no-console\n        console.error('ScrollCrafter: widget init error', type, e);\n      }\n    }\n  });\n}\n", "// gsap-loader.js\nexport function getGsap() {\n  if (typeof window === 'undefined') {\n    throw new Error('GSAP not available: window is undefined');\n  }\n\n  const { gsap } = window;\n  if (!gsap) {\n    throw new Error('GSAP not found on window.gsap');\n  }\n\n  if (gsap.core && typeof window.ScrollTrigger !== 'undefined') {\n    if (!gsap.core.globals().ScrollTrigger) {\n      gsap.registerPlugin(window.ScrollTrigger);\n    }\n  }\n\n  return gsap;\n}\n\nexport function getScrollTrigger() {\n  if (typeof window === 'undefined') {\n    throw new Error('ScrollTrigger not available: window is undefined');\n  }\n\n  if (!window.ScrollTrigger) {\n    throw new Error('ScrollTrigger not found on window.ScrollTrigger');\n  }\n\n  return window.ScrollTrigger;\n}\n", "import { registerWidget } from '../core/registry';\nimport { getGsap, getScrollTrigger } from '../core/gsap-loader';\n\nregisterWidget('scroll_animation', (node, config) => {\n  const debug = !!window.ScrollCrafterConfig?.debug;\n\n  if (debug) {\n    // eslint-disable-next-line no-console\n    console.log('[ScrollCrafter][scroll_animation] init', { node, config });\n  }\n\n  let gsap;\n  let ScrollTrigger;\n\n  try {\n    gsap = getGsap();\n    ScrollTrigger = getScrollTrigger();\n  } catch (e) {\n    if (debug) {\n      // eslint-disable-next-line no-console\n      console.error('[ScrollCrafter][scroll_animation] GSAP/ScrollTrigger error', e);\n    }\n    return;\n  }\n\n  const { target, animation, scrollTrigger } = config || {};\n\n  const selector = target?.selector;\n  if (!selector) {\n    if (debug) {\n      // eslint-disable-next-line no-console\n      console.warn('[ScrollCrafter][scroll_animation] missing target selector', config);\n    }\n    return;\n  }\n\n  const targetNodes = node.ownerDocument.querySelectorAll(selector);\n  if (!targetNodes.length) {\n    if (debug) {\n      // eslint-disable-next-line no-console\n      console.warn('[ScrollCrafter][scroll_animation] no target nodes found', selector);\n    }\n    return;\n  }\n\n  const elements = targetNodes;\n\n  const animType = animation?.type || 'from';\n  const fromVars = animation?.from || {};\n  const toVars = animation?.to || {};\n  const duration = typeof animation?.duration === 'number' ? animation.duration : 0.8;\n  const delay = typeof animation?.delay === 'number' ? animation.delay : 0;\n  const ease = animation?.ease || 'power2.out';\n  const stagger = typeof animation?.stagger === 'number' ? animation.stagger : undefined;\n\n  const stRaw = scrollTrigger || {};\n\n  const stConfig = {\n    trigger: elements[0],\n    start: stRaw.start || 'top 80%',\n    end: stRaw.end || 'bottom 20%',\n    toggleActions: stRaw.toggleActions || 'play none none reverse',\n    ...(typeof stRaw.scrub !== 'undefined' ? { scrub: stRaw.scrub } : {}),\n    ...(typeof stRaw.once !== 'undefined' ? { once: !!stRaw.once } : {}),\n    ...(typeof stRaw.markers !== 'undefined'\n      ? { markers: !!stRaw.markers }\n      : { markers: !!window.ScrollCrafterConfig?.debug }),\n    ...(typeof stRaw.pin !== 'undefined' ? { pin: !!stRaw.pin } : {}),\n    ...(typeof stRaw.pinSpacing !== 'undefined' ? { pinSpacing: !!stRaw.pinSpacing } : {}),\n    ...(typeof stRaw.anticipatePin !== 'undefined'\n      ? { anticipatePin: Number(stRaw.anticipatePin) }\n      : {}),\n    ...(typeof stRaw.snap !== 'undefined' ? { snap: stRaw.snap } : {}),\n  };\n\n  const base = {\n    duration,\n    delay,\n    ease,\n  };\n  if (typeof stagger === 'number') {\n    base.stagger = stagger;\n  }\n\n  let tween;\n\n  if (animType === 'fromTo') {\n    tween = gsap.fromTo(\n      elements,\n      { ...fromVars },\n      {\n        ...toVars,\n        ...base,\n      },\n    );\n  } else if (animType === 'to') {\n    tween = gsap.to(elements, {\n      ...toVars,\n      ...base,\n    });\n  } else {\n    tween = gsap.from(elements, {\n      ...fromVars,\n      ...base,\n    });\n  }\n\n  ScrollTrigger.create({\n    ...stConfig,\n    animation: tween,\n  });\n});\n", "import { registerWidget } from '../core/registry';\nimport { getGsap, getScrollTrigger } from '../core/gsap-loader';\n\nregisterWidget('scroll_timeline', (node, config) => {\n  const debug = !!window.ScrollCrafterConfig?.debug;\n\n  let gsap;\n  let ScrollTrigger;\n  try {\n    gsap = getGsap();\n    ScrollTrigger = getScrollTrigger();\n  } catch (e) {\n    if (debug) {\n      // eslint-disable-next-line no-console\n      console.error('[ScrollCrafter][scroll_timeline] GSAP/ScrollTrigger error', e);\n    }\n    return;\n  }\n\n  const selector = config?.target?.selector;\n  const elements = selector\n    ? node.ownerDocument.querySelectorAll(selector)\n    : [node];\n\n  if (!elements.length) {\n    if (debug) {\n      // eslint-disable-next-line no-console\n      console.warn('[ScrollCrafter][scroll_timeline] no target elements for selector', selector);\n    }\n    return;\n  }\n\n  const steps = config?.timeline?.steps || [];\n  const defaults = config?.timeline?.defaults || {};\n  const stRaw = config?.scrollTrigger || {};\n\n  const stConfig = {\n    trigger: elements[0],\n    start: stRaw.start || 'top 80%',\n    end: stRaw.end || 'bottom 20%',\n    toggleActions: stRaw.toggleActions || 'play none none reverse',\n    ...(typeof stRaw.scrub !== 'undefined' ? { scrub: stRaw.scrub } : {}),\n    ...(typeof stRaw.once !== 'undefined' ? { once: !!stRaw.once } : {}),\n    ...(typeof stRaw.markers !== 'undefined'\n      ? { markers: !!stRaw.markers }\n      : { markers: !!window.ScrollCrafterConfig?.debug }),\n    ...(typeof stRaw.pin !== 'undefined' ? { pin: !!stRaw.pin } : {}),\n    ...(typeof stRaw.pinSpacing !== 'undefined' ? { pinSpacing: !!stRaw.pinSpacing } : {}),\n    ...(typeof stRaw.anticipatePin !== 'undefined'\n      ? { anticipatePin: Number(stRaw.anticipatePin) }\n      : {}),\n    ...(typeof stRaw.snap !== 'undefined' ? { snap: stRaw.snap } : {}),\n  };\n\n  const tl = gsap.timeline({ defaults, scrollTrigger: stConfig });\n\n  steps.forEach((step) => {\n    const type = step?.type || 'from';\n    const fromVars = step?.from || {};\n    const toVars = step?.to || {};\n    const duration = typeof step?.duration === 'number' ? step.duration : undefined;\n    const delay = typeof step?.delay === 'number' ? step.delay : undefined;\n    const ease = step?.ease;\n    const stagger = typeof step?.stagger === 'number' ? step.stagger : undefined;\n    const position = typeof step?.startAt === 'number' ? step.startAt : undefined;\n\n    const base = {};\n    if (typeof duration === 'number') base.duration = duration;\n    if (typeof delay === 'number') base.delay = delay;\n    if (typeof ease === 'string') base.ease = ease;\n    if (typeof stagger === 'number') base.stagger = stagger;\n\n    if (type === 'fromTo') {\n      tl.fromTo(elements, { ...fromVars }, { ...toVars, ...base }, position);\n    } else if (type === 'to') {\n      tl.to(elements, { ...toVars, ...base }, position);\n    } else {\n      tl.from(elements, { ...fromVars, ...base }, position);\n    }\n  });\n});\n", "import { initWidgetsInScope } from './core/registry';\nimport './widgets/scroll-animation';\nimport './widgets/scroll-timeline';\n\nfunction init() {\n  initWidgetsInScope(document);\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n\ndocument.addEventListener('elementor/popup/show', (event) => {\n  initWidgetsInScope(event.target);\n});\n"],
  "mappings": "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",
  "names": []
}
